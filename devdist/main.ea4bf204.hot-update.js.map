{"version":3,"sources":["webpack://codex-frontend/./src/App.jsx","webpack://codex-frontend/./src/components/AuthenticatedAppHeader/HeaderButton.jsx","webpack://codex-frontend/./src/components/EditEntityModal.jsx","webpack://codex-frontend/./src/components/cards/collaborations/CollaborationsDialog.jsx","webpack://codex-frontend/./src/components/cards/collaborations/PermissionBlock.jsx","webpack://codex-frontend/./src/components/cards/collaborations/collaborationStates.js","webpack://codex-frontend/./src/components/dataDisplays/DataDisplay.jsx","webpack://codex-frontend/./src/components/settings/MediaDeleteButton.jsx","webpack://codex-frontend/./src/components/settings/MediaViewer.jsx","webpack://codex-frontend/./src/components/settings/SettingsFileUpload.jsx","webpack://codex-frontend/./src/models/site/useDeleteSiteSettingsMedia.js","webpack://codex-frontend/./src/pages/home/Home.jsx","webpack://codex-frontend/./src/pages/individual/CreateIndividual.jsx","webpack://codex-frontend/./src/pages/org/CreateOrg.jsx","webpack://codex-frontend/./src/pages/sighting/Annotations.jsx","webpack://codex-frontend/./src/pages/sighting/encounters/CreateIndividualModal.jsx","webpack://codex-frontend/./src/pages/splash/Metrics.jsx","webpack://codex-frontend/./src/pages/splash/Testimonial.jsx","webpack://codex-frontend/./src/pages/splash/Trifold.jsx","webpack://codex-frontend/./src/pages/user/CreateUser.jsx","webpack://codex-frontend/./src/pages/user/Users.jsx","webpack://codex-frontend/webpack/runtime/getFullHash"],"names":["Intl","NumberFormat","__addLocaleData","enPolyfill","esPolyfill","messageMap","en","messagesEn","es","messagesEs","ScrollToTop","useLocation","pathname","useEffect","window","scrollTo","reducer","state","action","type","data","sightingsNeedsFetch","siteSettingsNeedsFetch","siteSettingsSchemaNeedsFetch","siteSettingsSchema","siteSettingsVersion","siteSettings","me","console","warn","ContextualizedApp","locale","useSelector","selectLocale","useSiteSettings","error","adminUserInitialized","get","primaryColor","theme","createMuiTheme","materialTheme","App","useReducer","initialState","dispatch","Core","Icon","onClick","titleId","style","useTheme","marginLeft","padding","backgroundColor","palette","grey","A100","color","A400","HeaderButton","showBadge","badgeContent","rest","open","onSave","Function","prototype","onClose","fieldValues","fieldSchema","categories","categoryArray","Object","values","reduce","memo","field","name","value","useState","formState","setFormState","currentCategory","setCurrentCategory","height","marginTop","_","newCategory","map","category","labelId","maxWidth","fieldData","schema","find","candidateSchema","matchingCategory","newFieldValue","collaborationSchemas","collaborationStates","UserEditDialog","activeCollaboration","refreshCollaborationData","useRequestEditAccess","requestEditAccess","requestLoading","loading","requestError","usePatchCollaboration","patchCollaboration","patchLoading","patchError","request","setRequest","viewStateSchema","c","test","editStateSchema","cleanupAndClose","width","minWidth","paddingBottom","actionVerificationMessage","margin","sendEditRequest","guid","successful","actionPatch","PermissionBlock","title","testKey","display","flexDirection","justifyContent","marginRight","flexShrink","currentStateMessage","actionMessage","alignItems","whiteSpace","marginBottom","getActionPatch","actionMessage2","getActionPatch2","actionVerificationMessage2","buildCollaborationPatch","path","op","pending","collaboration","waiting","blocked","includes","blocking","granted","untouched","confused","getCellAlignment","cellIndex","columnDefinition","align","undefined","DataDisplay","columns","onPrint","initiallySelectedRow","onSelectRow","hideFilterSearch","renderExpandedRow","variant","idKey","noTitleBar","paginated","paginatedExternally","page","onChangePage","rowsPerPage","dataCount","paperStyles","cellStyles","initialColumnNames","filter","selectedRow","setSelectedRow","visibleColumnNames","setVisibleColumnNames","setFilter","sortColumn","setSortColumn","sortDirection","setSortDirection","anchorEl","setAnchorEl","filterPopperOpen","Boolean","startIndex","endIndex","Infinity","visibleData","datum","index","match","forEach","userSuppliedDataParser","rawValue","dataValue","userValue","toLowerCase","trim","stringifiedValue","JSON","stringify","sortedData","sortBy","reverse","visibleColumns","column","TransitionProps","length","vc","label","sendCsv","event","currentTarget","Paper","i","activeSort","TablePaginationActions","MediaDeleteButton","includeDeleteButton","url","settingKey","setPreviewUrl","setPreviewText","onSetPostData","children","shouldOpenConfirmDeleteDialog","setShouldOpenConfirmDeleteDialog","useDeleteSiteSettingsMedia","deleteSettingsAsset","localSuccess","success","localError","setLocalError","dismissed","setDismissed","setLoading","onCloseConfirmDelete","uuid","position","right","top","background","border","then","MediaViewer","maxHeight","SettingsFileUpload","descriptionId","changeId","required","allowedFileTypes","settingName","maxFileSize","onChange","intl","useIntl","uppy","setUppy","modalOpen","setModalOpen","previewUrl","previewText","assetSubmissionId","useMemo","uppyInstance","Uppy","meta","restrictions","maxNumberOfFiles","autoProceed","use","Tus","endpoint","__houston_url__","headers","on","uppyState","uploadObject","key","transactionId","transactionPath","close","settingValue","mediaUrl","allowedFileTypeString","join","reset","formatMessage","id","useContext","AppContext","setError","setSuccess","axios","withCredentials","method","response","statusResponse","setSiteSettingsNeedsFetch","formatError","Home","useGetMe","refresh","unprocessedAssetGroupId","fullName","userId","useDocumentTitle","createFields","defaultIndividualFields","f","requiredForIndividualCreation","CreateIndividual","usePostIndividual","postIndividual","defaultValue","newIndividual","log","description","CreateOrg","orgSchema","useStyles","makeStyles","photoIcon","Annotations","assets","refreshSightingData","isSm","useMediaQuery","breakpoints","down","classes","detailId","setDetailId","editId","setEditId","deleteId","setDeleteId","anchorInfo","setAnchorInfo","useDeleteAnnotation","deleteAnnotation","deleteInProgress","deleteAnnotationError","usePatchAnnotation","updateAnnotationProperty","patchInProgress","setAnnotationError","annotations","acc","asset","assetAnnotations","amendedAssetAnnotations","a","omit","clickedAnnotationId","detailAnnotation","editAnnotation","columnGap","rowGap","gridTemplateColumns","gridTemplateRows","gridAutoRows","rect","coords","theta","updateSuccessful","deleteSuccessful","annotation","e","element","common","white","calculateInitialState","schemas","set","CreateIndividualModal","encounterId","newIndividualId","setNewIndividualId","fieldSchemas","useIndividualFieldSchemas","createFieldSchemas","onCloseDialog","newFormState","individualData","pick","newId","metrics","count","icon","IndividualsIcon","SightingsIcon","UsersIcon","Testimonial","primary","main","black","metric","fontSize","textAlign","fontWeight","letterSpacing","textTransform","imageSize","CustomCard","buttonUrl","imageUrl","backgroundImage","borderRadius","backgroundSize","minHeight","lineHeight","fontStyle","Card","Trifold","siteDescription","CodeIcon","IdentificationIcon","AnalysisIcon","userSchema","requiredForUserCreation","CreateUser","Users","siteName","selectSiteName","pageTitle","userToDelete","setUserToDelete","useGetUsers","currentUserData","safeUsers","filteredUsers","u","email","deleteUsername","isAdministrator","entity","affiliation"],"mappings":"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","file":"main.ea4bf204.hot-update.js","sourcesContent":["import React, { useEffect, useReducer } from 'react';\nimport { BrowserRouter, useLocation } from 'react-router-dom';\nimport { get } from 'lodash-es';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport '@formatjs/intl-numberformat/polyfill';\nimport enPolyfill from '@formatjs/intl-numberformat/dist/locale-data/en';\nimport esPolyfill from '@formatjs/intl-numberformat/dist/locale-data/es';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {\n  createMuiTheme,\n  ThemeProvider,\n} from '@material-ui/core/styles';\n\nimport useSiteSettings from './models/site/useSiteSettings';\nimport { selectLocale } from './modules/app/selectors';\nimport materialTheme from './styles/materialTheme';\nimport messagesEn from '../locale/en.json';\nimport messagesEs from '../locale/es.json';\nimport { AppContext, initialState } from './context';\nimport FrontDesk from './FrontDesk';\nimport SadScreen from './components/SadScreen';\n\n// polyfill to enable formatting of a number using the unit prop\nif (typeof Intl.NumberFormat.__addLocaleData === 'function') {\n  Intl.NumberFormat.__addLocaleData(enPolyfill);\n  Intl.NumberFormat.__addLocaleData(esPolyfill);\n}\n\nconst messageMap = {\n  en: messagesEn,\n  es: messagesEs,\n};\n\nfunction ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => window.scrollTo(0, 0), [pathname]);\n\n  return null;\n}\n\nfunction reducer(state, action) {\n  const { type, data } = action;\n  if (type === 'SET_SIGHTINGS_NEEDS_FETCH') {\n    return { ...state, sightingsNeedsFetch: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_NEEDS_FETCH') {\n    return { ...state, siteSettingsNeedsFetch: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_SCHEMA_NEEDS_FETCH') {\n    return { ...state, siteSettingsSchemaNeedsFetch: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_SCHEMA') {\n    return { ...state, siteSettingsSchema: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_VERSION') {\n    return { ...state, siteSettingsVersion: data };\n  }\n  if (type === 'SET_SITE_SETTINGS') {\n    return { ...state, siteSettings: data };\n  }\n  if (type === 'SET_ME') {\n    return { ...state, me: data };\n  }\n  console.warn('Action not recognized', action);\n  return state;\n}\n\nfunction ContextualizedApp() {\n  const locale = useSelector(selectLocale);\n  const { data, error } = useSiteSettings();\n\n  const adminUserInitialized = get(data, 'site.adminUserInitialized');\n  const primaryColor = get(data, ['site.look.themeColor', 'value']);\n\n  if (error) return <SadScreen variant=\"serverError\" />;\n  if (!primaryColor) return null;\n  const theme = createMuiTheme(materialTheme(primaryColor));\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <IntlProvider\n        locale={locale}\n        defaultLocale=\"en\"\n        messages={messageMap[locale]}\n      >\n        <BrowserRouter basename=\"/\">\n          <ScrollToTop />\n          <FrontDesk adminUserInitialized={adminUserInitialized} />\n        </BrowserRouter>\n      </IntlProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default function App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider value={{ state, dispatch }}>\n      <ContextualizedApp />\n    </AppContext.Provider>\n  );\n}\n","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Text from '../Text';\n\nfunction Core({ Icon, onClick, titleId, style = {} }) {\n  const theme = useTheme();\n\n  return (\n    <Tooltip title={<Text variant=\"body2\" id={titleId} />}>\n      <IconButton\n        onClick={onClick}\n        style={{\n          marginLeft: 8,\n          padding: 10,\n          backgroundColor: theme.palette.grey.A100,\n          color: theme.palette.grey.A400,\n          ...style,\n        }}\n      >\n        <Icon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nexport default function HeaderButton({\n  showBadge,\n  badgeContent,\n  ...rest\n}) {\n  if (showBadge)\n    return (\n      <Badge\n        color=\"secondary\"\n        overlap=\"circle\"\n        badgeContent={badgeContent}\n      >\n        <Core {...rest} />\n      </Badge>\n    );\n  return <Core {...rest} />;\n}\n","import React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Grid from '@material-ui/core/Grid';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Button from './Button';\nimport LabeledInput from './LabeledInput';\nimport StandardDialog from './StandardDialog';\n\nexport default function({\n  open,\n  onSave = Function.prototype,\n  onClose = Function.prototype,\n  fieldValues,\n  fieldSchema,\n  categories,\n}) {\n  const categoryArray = categories ? Object.values(categories) : null;\n\n  const initialState = fieldValues.reduce((memo, field) => {\n    memo[field.name] = field.value;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n  const [currentCategory, setCurrentCategory] = useState(\n    categories ? categoryArray[0].name : null,\n  );\n\n  return (\n    <StandardDialog open={open} onClose={onClose} titleId=\"EDIT\">\n      <DialogContent style={{ height: 500 }}>\n        {categories && (\n          <Tabs\n            component=\"h3\"\n            value={currentCategory}\n            style={{ marginTop: 0 }}\n            onChange={(_, newCategory) =>\n              setCurrentCategory(newCategory)\n            }\n          >\n            {categoryArray.map(category => (\n              <Tab\n                key={category.name}\n                value={category.name}\n                label={<FormattedMessage id={category.labelId} />}\n              />\n            ))}\n          </Tabs>\n        )}\n        <Grid\n          container\n          spacing={2}\n          justify=\"center\"\n          style={{ maxWidth: 320 }}\n        >\n          {fieldValues.map(fieldData => {\n            const schema = fieldSchema.find(\n              candidateSchema =>\n                candidateSchema.name === fieldData.name,\n            );\n\n            const matchingCategory = currentCategory\n              ? schema.category === currentCategory\n              : true;\n            if (!matchingCategory) return null;\n\n            return (\n              <Grid item key={fieldData.name}>\n                <LabeledInput\n                  schema={schema}\n                  value={formState[fieldData.name]}\n                  onChange={newFieldValue => {\n                    setFormState({\n                      ...formState,\n                      [fieldData.name]: newFieldValue,\n                    });\n                  }}\n                />\n              </Grid>\n            );\n          })}\n        </Grid>\n      </DialogContent>\n      <DialogActions\n        style={{ padding: '0px 24px 24px 24px', marginTop: 32 }}\n      >\n        <Button\n          onClick={() => {\n            setFormState(initialState);\n            onClose();\n          }}\n          display=\"basic\"\n        >\n          <FormattedMessage id=\"CANCEL\" />\n        </Button>\n        <Button\n          onClick={() => {\n            onSave(formState);\n          }}\n          display=\"primary\"\n          autoFocus\n        >\n          <FormattedMessage id=\"CONFIRM\" />\n        </Button>\n      </DialogActions>\n    </StandardDialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { get } from 'lodash-es';\n\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport usePatchCollaboration from '../../../models/collaboration/usePatchCollaboration';\nimport useRequestEditAccess from '../../../models/collaboration/useRequestEditAccess';\nimport Alert from '../../Alert';\nimport Button from '../../Button';\nimport Text from '../../Text';\nimport StandardDialog from '../../StandardDialog';\nimport PermissionBlock from './PermissionBlock';\nimport collaborationStates from './collaborationStates';\n\nconst collaborationSchemas = Object.values(collaborationStates);\n\nexport default function UserEditDialog({\n  open,\n  onClose,\n  activeCollaboration,\n  refreshCollaborationData,\n}) {\n  const {\n    requestEditAccess,\n    loading: requestLoading,\n    error: requestError,\n  } = useRequestEditAccess();\n\n  const {\n    patchCollaboration,\n    loading: patchLoading,\n    error: patchError,\n  } = usePatchCollaboration();\n\n  const loading = requestLoading || patchLoading;\n  const error = requestError || patchError;\n\n  const [request, setRequest] = useState(null);\n\n  const viewStateSchema = collaborationSchemas.find(c =>\n    c.test('viewState', activeCollaboration),\n  );\n  const editStateSchema = collaborationSchemas.find(c =>\n    c.test('editState', activeCollaboration),\n  );\n\n  function cleanupAndClose() {\n    setRequest(null);\n    onClose();\n  }\n\n  return (\n    <StandardDialog\n      open={open}\n      onClose={cleanupAndClose}\n      title={`Collaboration with ${get(\n        activeCollaboration,\n        'otherUserName',\n        '',\n      )}`}\n    >\n      <div\n        style={{ width: '100%', minWidth: 360, paddingBottom: 32 }}\n      >\n        {request ? (\n          <Text\n            style={{ padding: '20px 24px 0 24px' }}\n            variant=\"body2\"\n          >\n            {request.actionVerificationMessage}\n          </Text>\n        ) : (\n          <>\n            <PermissionBlock\n              title=\"View\"\n              testKey=\"viewState\"\n              schema={viewStateSchema}\n              setRequest={setRequest}\n            />\n            <PermissionBlock\n              title=\"Edit\"\n              testKey=\"editState\"\n              schema={editStateSchema}\n              setRequest={setRequest}\n            />\n          </>\n        )}\n      </div>\n      {error && (\n        <Alert\n          style={{ margin: '0px 24px 20px 24px' }}\n          severity=\"error\"\n          titleId=\"SERVER_ERROR\"\n        >\n          {error}\n        </Alert>\n      )}\n      {request && (\n        <DialogActions style={{ padding: '0px 24px 24px 24px' }}>\n          <Button\n            display=\"primary\"\n            onClick={async () => {\n              let successful;\n              if (request.sendEditRequest) {\n                successful = await requestEditAccess(\n                  activeCollaboration.guid,\n                );\n              } else {\n                successful = await patchCollaboration(\n                  activeCollaboration.guid,\n                  request.actionPatch,\n                );\n              }\n\n              if (successful) {\n                refreshCollaborationData();\n                cleanupAndClose();\n              }\n            }}\n            loading={loading}\n            id=\"SAVE\"\n          />\n        </DialogActions>\n      )}\n    </StandardDialog>\n  );\n}\n","import React from 'react';\n\nimport Button from '../../Button';\nimport Text from '../../Text';\n\nexport default function PermissionBlock({\n  title,\n  schema,\n  setRequest,\n  testKey,\n}) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        padding: '20px 24px 0 24px',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          marginRight: 40,\n          flexShrink: 1,\n        }}\n      >\n        <Text>{title}</Text>\n        <Text variant=\"body2\">{schema.currentStateMessage}</Text>\n      </div>\n      {schema.actionMessage ? (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'flex-end',\n            justifyContent: 'flex-end',\n            minWidth: '30%',\n            flexDirection: 'column',\n          }}\n        >\n          <Button\n            style={{ whiteSpace: 'nowrap', marginBottom: 8 }}\n            onClick={() => {\n              const actionPatch = schema.getActionPatch(\n                testKey,\n                schema,\n              );\n              setRequest({ ...schema, actionPatch });\n            }}\n          >\n            {schema.actionMessage}\n          </Button>\n          {schema.actionMessage2 && (\n            <Button\n              style={{ whiteSpace: 'nowrap' }}\n              onClick={() => {\n                const actionPatch = schema.getActionPatch2(\n                  testKey,\n                  schema,\n                );\n                setRequest({\n                  ...schema,\n                  actionVerificationMessage:\n                    schema.actionVerificationMessage2,\n                  actionPatch,\n                });\n              }}\n            >\n              {schema.actionMessage2}\n            </Button>\n          )}\n        </div>\n      ) : (\n        <div />\n      )}\n    </div>\n  );\n}\n","import { get } from 'lodash-es';\n\nfunction buildCollaborationPatch(testKey, value) {\n  const path =\n    testKey === 'viewState' ? '/view_permission' : '/edit_permission';\n  return [\n    {\n      op: 'replace',\n      path,\n      value,\n    },\n  ];\n}\n\nexport default {\n  pending: {\n    test: (testKey, collaboration) =>\n      get(collaboration, ['otherUserData', testKey]) === 'pending',\n    currentStateMessage:\n      'Access requested. Waiting for your request to be approved.',\n  },\n  waiting: {\n    test: (testKey, collaboration) =>\n      get(collaboration, ['thisUserData', testKey]) === 'pending',\n    currentStateMessage: 'Data access requested.',\n    actionMessage: 'Grant access',\n    actionVerificationMessage:\n      'Are you sure you want to grant access?',\n    getActionPatch: testKey =>\n      buildCollaborationPatch(testKey, 'approved'),\n    actionMessage2: 'Deny access',\n    actionVerificationMessage2:\n      'Are you sure you want to deny access?',\n    getActionPatch2: testKey =>\n      buildCollaborationPatch(testKey, 'declined'),\n  },\n  blocked: {\n    test: (testKey, collaboration) =>\n      ['declined', 'revoked'].includes(\n        get(collaboration, ['otherUserData', testKey]),\n      ),\n    currentStateMessage:\n      'Access revoked. Only your collaboration partner can restore access.',\n  },\n  blocking: {\n    test: (testKey, collaboration) =>\n      ['declined', 'revoked'].includes(\n        get(collaboration, ['thisUserData', testKey]),\n      ),\n    currentStateMessage: 'You have revoked access.',\n    actionMessage: 'Restore access',\n    actionVerificationMessage:\n      'Are you sure you want to restore access? Your data will also become available to your collaboration partner.',\n    getActionPatch: testKey =>\n      buildCollaborationPatch(testKey, 'approved'),\n  },\n  granted: {\n    test: (testKey, collaboration) =>\n      get(collaboration, ['otherUserData', testKey]) === 'approved',\n    currentStateMessage: 'Access granted.',\n    actionMessage: 'Revoke access',\n    actionVerificationMessage:\n      \"Are you sure you want to revoke access? Access to your collaboration partner's data will be revoked as well.\",\n    getActionPatch: testKey =>\n      buildCollaborationPatch(testKey, 'revoked'),\n  },\n  untouched: {\n    test: (testKey, collaboration) =>\n      get(collaboration, ['otherUserData', testKey]) ===\n      'not_initiated',\n    currentStateMessage: 'Access has not been requested.',\n    actionMessage: 'Request access',\n    actionVerificationMessage:\n      'Are you sure you want to request access? Your data will also become available to your collaboration partner.',\n    getActionPatch: Function.prototype,\n    sendEditRequest: true,\n  },\n  confused: {\n    test: () => true,\n    currentStateMessage:\n      'Something went wrong: could not determine collaboration state.',\n  },\n};\n","import React, { useState } from 'react';\nimport { get, sortBy } from 'lodash-es';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport Print from '@material-ui/icons/Print';\nimport FilterList from '@material-ui/icons/FilterList';\nimport CloudDownload from '@material-ui/icons/CloudDownload';\n\nimport FilterBar from '../FilterBar';\nimport Text from '../Text';\nimport TablePaginationActions from './TablePaginationActions';\nimport CollabsibleRow from './CollapsibleRow';\nimport sendCsv from './sendCsv';\n\nfunction getCellAlignment(cellIndex, columnDefinition) {\n  if (columnDefinition.align) return columnDefinition.align;\n  if (cellIndex === 0) return undefined;\n  return 'right';\n}\n\n/* Note for component consumers: every data item needs a unique ID!\n   Yeah yeah typescript proptypes yeah yeah */\nexport default function DataDisplay({\n  columns,\n  data,\n  title,\n  onPrint,\n  initiallySelectedRow = null,\n  onSelectRow = Function.prototype,\n  hideFilterSearch = false,\n  renderExpandedRow,\n  variant = 'primary',\n  idKey = 'id',\n  noTitleBar,\n  loading,\n  paginated = false,\n  paginatedExternally = true, // display all data provided and let parent component(s) paginate\n  page,\n  onChangePage,\n  rowsPerPage,\n  dataCount, // in a paginated table there will be more data than provided to the data prop\n  paperStyles = {},\n  cellStyles = {},\n  ...rest\n}) {\n  const initialColumnNames = columns\n    .filter(c => get(c, 'options.display', true))\n    .map(c => c.name);\n\n  const [selectedRow, setSelectedRow] = useState(\n    initiallySelectedRow,\n  );\n  const [visibleColumnNames, setVisibleColumnNames] = useState(\n    initialColumnNames,\n  );\n  const [filter, setFilter] = useState('');\n  const [sortColumn, setSortColumn] = useState(null);\n  const [sortDirection, setSortDirection] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const filterPopperOpen = Boolean(anchorEl);\n\n  const startIndex = paginated ? page * rowsPerPage : 0;\n  const endIndex = paginated\n    ? (page + 1) * rowsPerPage - 1\n    : Infinity;\n\n  const visibleData = data.filter((datum, index) => {\n    if (index < startIndex && !paginatedExternally) return false;\n    if (index > endIndex && !paginatedExternally) return false;\n\n    let match = false;\n    columns.forEach(c => {\n      const userSuppliedDataParser = get(c, 'options.getStringValue');\n      const rawValue = get(datum, c.name, '');\n      let dataValue;\n      if (userSuppliedDataParser) {\n        const userValue = userSuppliedDataParser(rawValue, datum);\n        dataValue = userValue\n          ? userValue.toLowerCase().trim()\n          : userValue;\n      } else {\n        const stringifiedValue = JSON.stringify(rawValue) || '';\n        dataValue = stringifiedValue.toLowerCase().trim();\n      }\n      if (dataValue && dataValue.includes(filter.toLowerCase()))\n        match = true;\n    });\n\n    return match;\n  });\n\n  let sortedData = visibleData;\n  if (sortColumn) {\n    sortedData = sortBy(data, sortColumn);\n    if (sortDirection === 'asc') sortedData.reverse();\n  }\n\n  const visibleColumns = columns.filter(column =>\n    visibleColumnNames.includes(column.name),\n  );\n\n  return (\n    <div {...rest}>\n      <Popper\n        open={filterPopperOpen}\n        anchorEl={anchorEl}\n        placement=\"bottom-end\"\n        transition\n      >\n        {({ TransitionProps }) => (\n          <Fade {...TransitionProps} timeout={350}>\n            <Paper\n              style={{ padding: '20px 32px 20px 20px' }}\n              elevation={8}\n            >\n              <Grid container direction=\"column\">\n                {!hideFilterSearch && (\n                  <FilterBar\n                    size=\"small\"\n                    width={140}\n                    style={{ margin: '0 0 12px 0' }}\n                    value={filter}\n                    onChange={setFilter}\n                  />\n                )}\n                {columns\n                  .filter(c =>\n                    get(c, 'options.displayInFilter', true),\n                  )\n                  .map(c => (\n                    <FormControlLabel\n                      key={c.name}\n                      control={\n                        <Checkbox\n                          size=\"small\"\n                          checked={visibleColumnNames.includes(\n                            c.name,\n                          )}\n                          onClick={() => {\n                            if (visibleColumnNames.includes(c.name)) {\n                              if (visibleColumnNames.length === 1)\n                                return;\n                              setVisibleColumnNames(\n                                visibleColumnNames.filter(\n                                  vc => vc !== c.name,\n                                ),\n                              );\n                            } else {\n                              setVisibleColumnNames([\n                                ...visibleColumnNames,\n                                c.name,\n                              ]);\n                            }\n                          }}\n                        />\n                      }\n                      label={<Text variant=\"body2\">{c.label}</Text>}\n                    />\n                  ))}\n              </Grid>\n            </Paper>\n          </Fade>\n        )}\n      </Popper>\n      {!noTitleBar && (\n        <Grid\n          container\n          justify=\"space-between\"\n          alignItems=\"center\"\n          style={{ margin: '16px 0' }}\n        >\n          <Grid item>\n            <Text\n              variant={\n                variant === 'primary' ? 'subtitle1' : 'subtitle2'\n              }\n              style={{\n                margin:\n                  variant === 'secondary' ? '12px 0 0 12px' : 'unset',\n              }}\n            >\n              {title}\n            </Text>\n          </Grid>\n          <Grid item>\n            {variant === 'primary' && (\n              <IconButton\n                onClick={() => sendCsv(visibleColumns, visibleData)}\n                size=\"small\"\n              >\n                <CloudDownload style={{ marginRight: 4 }} />\n              </IconButton>\n            )}\n            {onPrint && (\n              <IconButton onClick={onPrint} size=\"small\">\n                <Print style={{ marginRight: 4 }} />\n              </IconButton>\n            )}\n            <IconButton\n              onClick={event => {\n                setAnchorEl(anchorEl ? null : event.currentTarget);\n              }}\n              size=\"small\"\n            >\n              <FilterList />\n            </IconButton>\n          </Grid>\n        </Grid>\n      )}\n      <TableContainer\n        component={variant === 'secondary' ? Paper : undefined}\n        elevation={variant === 'secondary' ? 2 : undefined}\n        style={paperStyles}\n      >\n        <Table\n          style={{ minWidth: 10 }}\n          size=\"small\"\n          aria-label={title}\n        >\n          <TableHead>\n            <TableRow>\n              {renderExpandedRow && <TableCell />}\n              {visibleColumns.map((c, i) => {\n                const activeSort = c.name === sortColumn;\n                return (\n                  <TableCell\n                    key={c.name}\n                    align={getCellAlignment(i, c)}\n                    sortDirection={activeSort ? sortDirection : false}\n                    style={{ whiteSpace: 'nowrap' }}\n                  >\n                    <TableSortLabel\n                      active={activeSort}\n                      direction={activeSort ? sortDirection : 'asc'}\n                      onClick={() => {\n                        setSortDirection(\n                          sortDirection === 'asc' ? 'desc' : 'asc',\n                        );\n                        setSortColumn(c.name);\n                      }}\n                    >\n                      {c.label}\n                    </TableSortLabel>\n                  </TableCell>\n                );\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!loading &&\n              sortedData.map(datum => (\n                <CollabsibleRow\n                  key={get(datum, idKey)}\n                  onClick={() => {\n                    if (selectedRow === get(datum, idKey)) {\n                      setSelectedRow(null);\n                      onSelectRow(null);\n                    } else {\n                      setSelectedRow(get(datum, idKey));\n                      onSelectRow(datum);\n                    }\n                  }}\n                  selected={selectedRow === get(datum, idKey)}\n                  datum={datum}\n                  cellStyles={cellStyles}\n                  columns={visibleColumns}\n                  renderExpandedRow={renderExpandedRow}\n                />\n              ))}\n          </TableBody>\n          {paginated && !loading && (\n            <TableFooter>\n              <TableRow>\n                <TablePagination\n                  page={page}\n                  count={dataCount || get(data, 'length', 0)}\n                  onChangePage={onChangePage}\n                  rowsPerPage={rowsPerPage}\n                  rowsPerPageOptions={[rowsPerPage]}\n                  ActionsComponent={TablePaginationActions}\n                />\n              </TableRow>\n            </TableFooter>\n          )}\n        </Table>\n      </TableContainer>\n      {loading && <LinearProgress style={{ margin: '16px 32px' }} />}\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport { v4 as uuid } from 'uuid';\nimport { useTheme } from '@material-ui/core/styles';\n\nimport ActionIcon from '../ActionIcon';\nimport ConfirmDelete from '../ConfirmDelete';\nimport CustomAlert from '../Alert';\nimport useDeleteSiteSettingsMedia from '../../models/site/useDeleteSiteSettingsMedia';\n\nexport default function MediaDeleteButton({\n  includeDeleteButton = false,\n  url,\n  variant,\n  settingKey,\n  setPreviewUrl = Function.prototype,\n  setPreviewText = Function.prototype,\n  onSetPostData = Function.prototype,\n  children,\n  ...rest\n}) {\n  const [\n    shouldOpenConfirmDeleteDialog,\n    setShouldOpenConfirmDeleteDialog,\n  ] = useState(false);\n  const theme = useTheme();\n  const {\n    deleteSettingsAsset,\n    error,\n    success: localSuccess,\n  } = useDeleteSiteSettingsMedia();\n  const [localError, setLocalError] = useState(null);\n  const [dismissed, setDismissed] = useState(false);\n  const [loading, setLoading] = useState(false);\n  function onCloseConfirmDelete() {\n    if (error) {\n      setLocalError(true);\n    }\n    setShouldOpenConfirmDeleteDialog(false);\n  }\n  if (dismissed) {\n    return null;\n  }\n  if (localSuccess)\n    return (\n      <CustomAlert\n        style={{ margin: '0px 24px 20px 24px' }}\n        titleId=\"SETTINGS_FILE_DELETE_SUCCESS\"\n        severity=\"success\"\n        onClose={() => {\n          setDismissed(true);\n        }}\n      />\n    );\n  if (localError)\n    return (\n      <CustomAlert\n        style={{ margin: '0px 24px 20px 24px' }}\n        severity=\"error\"\n        titleId=\"SERVER_ERROR\"\n        onClose={() => {\n          setDismissed(true);\n        }}\n      >\n        {error}\n      </CustomAlert>\n    );\n\n  return (\n    <div\n      key={url + uuid()}\n      style={{ position: 'relative', width: 'min-content' }}\n      {...rest}\n    >\n      {children}\n      {includeDeleteButton && [\n        <ActionIcon\n          key={url + uuid()}\n          variant=\"delete\"\n          onClick={() => setShouldOpenConfirmDeleteDialog(true)}\n          style={{\n            position: 'absolute',\n            right: -28,\n            top: -28,\n            background: theme.palette.background.default,\n            border: '1px solid rgba(0, 0, 0, 0.23)',\n          }}\n        />,\n        <ConfirmDelete\n          key={url + uuid()}\n          open={Boolean(shouldOpenConfirmDeleteDialog)}\n          title={<FormattedMessage id=\"REMOVE_FILE\" />}\n          messageId=\"CONFIRM_DELETE_FILE\"\n          onClose={onCloseConfirmDelete}\n          onDelete={() => {\n            setLoading(true);\n            deleteSettingsAsset(settingKey).then(() => {\n              onCloseConfirmDelete();\n              setPreviewUrl(null);\n              setPreviewText(null);\n              setLoading(false);\n              onSetPostData(null);\n            });\n          }}\n        />,\n      ]}\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactPlayer from 'react-player';\nimport { v4 as uuid } from 'uuid';\nimport Paper from '@material-ui/core/Paper';\nimport VideoIcon from '@material-ui/icons/Movie';\n\nimport Text from '../Text';\nimport MediaDeleteButton from './MediaDeleteButton';\n\nexport default function MediaViewer({\n  variant = 'image',\n  url,\n  label,\n  includeDeleteButton = false,\n  settingKey,\n  setPreviewUrl = Function.prototype,\n  setPreviewText = Function.prototype,\n  onSetPostData = Function.prototype,\n}) {\n  if (variant === 'image' && url) {\n    return (\n      <div\n        key={url + uuid()}\n        style={{ position: 'relative', width: 'min-content' }}\n      >\n        <MediaDeleteButton\n          includeDeleteButton={includeDeleteButton}\n          url={url}\n          variant={variant}\n          settingKey={settingKey}\n          setPreviewUrl={setPreviewUrl}\n          setPreviewText={setPreviewText}\n          onSetPostData={onSetPostData}\n        >\n          <img\n            alt={label}\n            style={{\n              maxHeight: 240,\n              maxWidth: 240,\n              height: 'auto',\n              width: 'auto',\n            }}\n            src={url}\n          />\n        </MediaDeleteButton>\n      </div>\n    );\n  } else if (variant === 'video' && url) {\n    return (\n      <div key={url + uuid()} style={{ position: 'relative' }}>\n        <MediaDeleteButton\n          includeDeleteButton={includeDeleteButton}\n          url={url}\n          variant={variant}\n          settingKey={settingKey}\n          setPreviewUrl={setPreviewUrl}\n          setPreviewText={setPreviewText}\n          onSetPostData={onSetPostData}\n        >\n          <ReactPlayer\n            url={url}\n            height={240}\n            width={360}\n            muted\n            autoPlay\n            playing\n            controls\n          />\n        </MediaDeleteButton>\n      </div>\n    );\n  } else if (variant === 'video' && !url) {\n    return (\n      <div key={uuid()}>\n        <MediaDeleteButton\n          includeDeleteButton={includeDeleteButton}\n          url={url}\n          variant={variant}\n          settingKey={settingKey}\n          setPreviewUrl={setPreviewUrl}\n          setPreviewText={setPreviewText}\n          onSetPostData={onSetPostData}\n        >\n          <Paper\n            style={{\n              display: 'flex',\n              padding: 20,\n              alignItems: 'center',\n            }}\n          >\n            <VideoIcon style={{ marginRight: 8 }} fontSize=\"large\" />\n            <Text variant=\"subtitle1\">\n              {label || 'Filename unavailable'}\n            </Text>\n          </Paper>\n        </MediaDeleteButton>\n      </div>\n    );\n  }\n  return <Text>{label}</Text>;\n}\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { get } from 'lodash-es';\nimport Uppy from '@uppy/core';\nimport Tus from '@uppy/tus';\nimport DashboardModal from '@uppy/react/lib/DashboardModal';\nimport '@uppy/core/dist/style.css';\nimport '@uppy/dashboard/dist/style.css';\nimport { v4 as uuid } from 'uuid';\n\nimport Grid from '@material-ui/core/Grid';\nimport Button from '../Button';\nimport useSiteSettings from '../../models/site/useSiteSettings';\nimport Text from '../Text';\nimport MediaViewer from './MediaViewer';\n\nexport default function SettingsFileUpload({\n  labelId,\n  descriptionId,\n  changeId,\n  required = false,\n  allowedFileTypes,\n  settingName,\n  onSetPostData = Function.prototype,\n  maxFileSize = 10000000, // 10 MB\n  variant = 'image',\n  onClose = Function.prototype,\n  onChange = Function.prototype,\n}) {\n  const intl = useIntl();\n  const siteSettings = useSiteSettings();\n  const [uppy, setUppy] = useState(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [previewText, setPreviewText] = useState(null);\n  const assetSubmissionId = useMemo(uuid, []);\n\n  useEffect(() => {\n    const uppyInstance = Uppy({\n      meta: { type: settingName },\n      restrictions: {\n        maxNumberOfFiles: 1,\n        maxFileSize,\n        allowedFileTypes,\n      },\n      autoProceed: true,\n    });\n\n    uppyInstance.use(Tus, {\n      endpoint: `${__houston_url__}/api/v1/asset_groups/tus`,\n      headers: {\n        'x-tus-transaction-id': assetSubmissionId,\n      },\n    });\n\n    uppyInstance.on('complete', uppyState => {\n      const uploadObject = get(uppyState, 'successful.0');\n      if (uploadObject) {\n        onSetPostData({\n          key: settingName,\n          transactionId: assetSubmissionId,\n          transactionPath: get(uploadObject, ['meta', 'name']),\n        });\n        setPreviewUrl(get(uploadObject, 'preview'));\n        setPreviewText(get(uploadObject, 'name'));\n      }\n    });\n    setUppy(uppyInstance);\n\n    return () => uppyInstance.close();\n  }, []);\n\n  const settingValue = get(siteSettings, [\n    'data',\n    'site.images',\n    settingName,\n  ]);\n\n  const mediaUrl = previewUrl || settingValue;\n\n  const allowedFileTypeString = allowedFileTypes\n    ? allowedFileTypes.join(', ')\n    : null;\n\n  return (\n    <Grid\n      item\n      style={{\n        display: 'flex',\n        width: '100%',\n        justifyContent: 'space-between',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          width: '100%',\n          minWidth: '35%',\n        }}\n      >\n        <Text style={{ marginTop: 20 }} variant=\"subtitle1\">\n          <FormattedMessage id={labelId} />\n          {required && ' *'}\n        </Text>\n        <Text\n          style={{ marginTop: 4 }}\n          variant=\"body2\"\n          id={descriptionId}\n        />\n      </div>\n      <div\n        style={{\n          marginTop: 24,\n          marginLeft: 80,\n          width: 400,\n          minWidth: 400,\n        }}\n      >\n        {mediaUrl || previewText ? (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <MediaViewer\n              setPreviewUrl={setPreviewUrl}\n              setPreviewText={setPreviewText}\n              key={mediaUrl}\n              url={mediaUrl}\n              alt={`Uploaded ${settingName}`}\n              variant={variant}\n              label={previewText}\n              includeDeleteButton\n              settingKey={settingName}\n              onSetPostData={onSetPostData}\n            />\n            <Button\n              onClick={() => {\n                setPreviewUrl(null);\n                uppy.reset();\n                setModalOpen(true);\n              }}\n              id={changeId}\n              style={{ width: 'fit-content' }}\n            />\n          </div>\n        ) : (\n          <Button\n            size=\"small\"\n            style={{ marginTop: 8 }}\n            onClick={() => setModalOpen(true)}\n          >\n            <FormattedMessage id=\"UPLOAD_A_FILE\" />\n          </Button>\n        )}\n        {uppy && (\n          <DashboardModal\n            uppy={uppy}\n            note={\n              allowedFileTypeString\n                ? intl.formatMessage(\n                    { id: 'FILETYPES_NOTE' },\n                    { allowedFileTypes: allowedFileTypeString },\n                  )\n                : null\n            }\n            closeModalOnClickOutside\n            showProgressDetails\n            showLinkToFileUploadResult={false}\n            open={modalOpen}\n            onRequestClose={() => setModalOpen(false)}\n          />\n        )}\n      </div>\n    </Grid>\n  );\n}\n","import { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { get } from 'lodash-es';\nimport { AppContext, setSiteSettingsNeedsFetch } from '../../context';\nimport { formatError } from '../../utils/formatters';\n\nexport default function useDeleteSiteSettingsMedia() {\n  const { dispatch } = useContext(AppContext);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const deleteSettingsAsset = async data => {\n    try {\n      setLoading(true);\n      const response = await axios({\n        url: `${__houston_url__}/api/v1/site-settings/${data}`,\n        withCredentials: true,\n        method: 'delete',\n      });\n      const statusResponse = get(response, 'status');\n      const successful =\n        statusResponse === 204 || statusResponse === 404; // 404 because if it couldn't be found, it hasn't been persisted yet, but the asset should be removed from the DOM anyway\n      setLoading(false);\n      if (successful) {\n        dispatch(setSiteSettingsNeedsFetch(true));\n        setSuccess(true);\n        setError(null);\n      } else {\n        setError(formatError(response));\n        setSuccess(false);\n      }\n    } catch (postError) {\n      setLoading(false);\n      setError(formatError(postError));\n      setSuccess(false);\n    }\n  };\n\n  return {\n    deleteSettingsAsset,\n    loading,\n    error,\n    setError,\n    success,\n    setSuccess,\n  };\n}\n","import React from 'react';\nimport { get } from 'lodash-es';\nimport { useIntl } from 'react-intl';\n\nimport useGetMe from '../../models/users/useGetMe';\nimport LoadingScreen from '../../components/LoadingScreen';\nimport UserProfile from '../../components/UserProfile';\nimport UnprocessedBulkImportAlert from '../../components/bulkImport/UnprocessedBulkImportAlert';\nimport useDocumentTitle from '../../hooks/useDocumentTitle';\nimport ProfileSetup from './ProfileSetup';\n\nexport default function Home() {\n  const intl = useIntl();\n\n  const { data, loading, refresh } = useGetMe();\n  const unprocessedAssetGroupId = get(data, [\n    'unprocessed_asset_groups',\n    '0',\n  ]);\n\n  const fullName = get(data, ['full_name']);\n  const userId = get(data, 'guid');\n\n  useDocumentTitle(\n    intl.formatMessage({ id: 'HOME' }),\n    true,\n    fullName,\n  );\n\n  if (loading) return <LoadingScreen />;\n  // if (error) handle error\n  if (!fullName)\n    return <ProfileSetup userData={data} refreshUserData={refresh} />;\n\n  return (\n    <UserProfile\n      someoneElse={false}\n      userData={data}\n      userId={userId}\n      userDataLoading={loading}\n      refreshUserData={refresh}\n      noCollaborate\n    >\n      {unprocessedAssetGroupId && (\n        <UnprocessedBulkImportAlert\n          unprocessedAssetGroupId={unprocessedAssetGroupId}\n        />\n      )}\n    </UserProfile>\n  );\n}\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\n\nimport usePostIndividual from '../../models/individual/usePostIndividual';\nimport CreatePage from '../../components/CreatePage';\nimport InputRow from '../../components/InputRow';\nimport { defaultIndividualFields } from '../../constants/individualSchema';\n\nconst createFields = defaultIndividualFields.filter(\n  f => f.requiredForIndividualCreation,\n);\n\nexport default function CreateIndividual() {\n  const { postIndividual } = usePostIndividual();\n\n  const initialState = createFields.reduce((memo, field) => {\n    memo[field.name] = field.defaultValue;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n\n  return (\n    <CreatePage\n      ctaId=\"CREATE_INDIVIDUAL\"\n      onCreate={async () => {\n        const newIndividual = await postIndividual();\n        console.log(newIndividual);\n      }}\n    >\n      <Grid\n        container\n        spacing={2}\n        justify=\"center\"\n        component=\"form\"\n        direction=\"column\"\n      >\n        {createFields.map(field => (\n          <Grid item key={field.label || field.labelId}>\n            <InputRow\n              label={field.label}\n              labelId={field.labelId}\n              description={field.description}\n              descriptionId={field.descriptionId}\n              required={field.required}\n              schema={field}\n              value={formState[field.name]}\n              onChange={newFieldValue =>\n                setFormState({\n                  ...formState,\n                  [field.name]: newFieldValue,\n                })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </CreatePage>\n  );\n}\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CreatePage from '../../components/CreatePage';\nimport InputRow from '../../components/InputRow';\nimport orgSchema from '../../constants/orgSchema';\n\nexport default function CreateOrg() {\n  const initialState = orgSchema.reduce((memo, field) => {\n    memo[field.name] = field.defaultValue;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n\n  return (\n    <CreatePage\n      ctaId=\"CREATE_ORG\"\n      onCreate={() => console.log(formState)}\n    >\n      <Grid\n        container\n        spacing={2}\n        justify=\"center\"\n        component=\"form\"\n        direction=\"column\"\n      >\n        {orgSchema.map(field => (\n          <Grid item key={field.label || field.labelId}>\n            <InputRow\n              label={field.label}\n              labelId={field.labelId}\n              description={field.description}\n              descriptionId={field.descriptionId}\n              required={field.required}\n              schema={field}\n              value={formState[field.name]}\n              onChange={newFieldValue =>\n                setFormState({\n                  ...formState,\n                  [field.name]: newFieldValue,\n                })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </CreatePage>\n  );\n}\n","import React, { useState } from 'react';\nimport { get, omit } from 'lodash-es';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nimport usePatchAnnotation from '../../models/annotation/usePatchAnnotation';\nimport useDeleteAnnotation from '../../models/annotation/useDeleteAnnotation';\nimport AnnotatedPhotograph from '../../components/AnnotatedPhotograph';\nimport AnnotationEditor from '../../components/AnnotationEditor';\nimport Text from '../../components/Text';\nimport ConfirmDelete from '../../components/ConfirmDelete';\nimport AnnotationDetail from './AnnotationDetail';\nimport MoreAnnotationMenu from './MoreAnnotationMenu';\nimport Keywords from './Keywords';\n\nconst useStyles = makeStyles({\n  photoIcon: {\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.54)',\n    },\n  },\n});\n\nexport default function Annotations({ assets, refreshSightingData }) {\n  const theme = useTheme();\n  const isSm = useMediaQuery(theme.breakpoints.down('xs'));\n  const classes = useStyles();\n\n  const [detailId, setDetailId] = useState(null);\n  const [editId, setEditId] = useState(null);\n  const [deleteId, setDeleteId] = useState(null);\n  const [anchorInfo, setAnchorInfo] = useState(null);\n  const {\n    deleteAnnotation,\n    loading: deleteInProgress,\n    error: deleteAnnotationError,\n  } = useDeleteAnnotation();\n\n  const {\n    updateAnnotationProperty,\n    loading: patchInProgress,\n    error: patchError,\n    setError: setAnnotationError,\n  } = usePatchAnnotation();\n\n  const annotations = assets.reduce((acc, asset) => {\n    const assetAnnotations = get(asset, 'annotations', []);\n    const amendedAssetAnnotations = assetAnnotations.map(a => ({\n      ...a,\n      ...omit(asset, ['annotations', 'guid']),\n    }));\n    return [...acc, ...amendedAssetAnnotations];\n  }, []);\n\n  const clickedAnnotationId = get(anchorInfo, ['annotation', 'guid']);\n\n  const detailAnnotation = annotations.find(a => a.guid === detailId);\n  const editAnnotation = annotations.find(a => a.guid === editId);\n\n  return (\n    <div\n      style={{\n        display: 'grid',\n        columnGap: 12,\n        rowGap: 12,\n        gridTemplateColumns: isSm ? '1fr' : '1fr 1fr 1fr',\n        gridTemplateRows: 'auto',\n        gridAutoRows: 'auto',\n        margin: '0 20px',\n      }}\n    >\n      <AnnotationDetail\n        annotation={detailAnnotation}\n        open={Boolean(detailId)}\n        onClose={() => setDetailId(null)}\n        refreshSightingData={refreshSightingData}\n      />\n      <MoreAnnotationMenu\n        id=\"image-actions-menu\"\n        anchorEl={get(anchorInfo, 'element')}\n        open={Boolean(get(anchorInfo, 'element'))}\n        onClose={() => setAnchorInfo(null)}\n        onClickEditAnnotation={() => {\n          setEditId(clickedAnnotationId);\n          setAnchorInfo(null);\n        }}\n        onClickDelete={async () => {\n          setDeleteId(clickedAnnotationId);\n          setAnchorInfo(null);\n        }}\n      />\n      {editId && (\n        <AnnotationEditor\n          onClose={() => {\n            setEditId(null);\n            setAnnotationError(null);\n          }}\n          onChange={async rect => {\n            const coords = [\n              get(rect, 'percentLeft'),\n              get(rect, 'percentTop'),\n              get(rect, 'percentWidth'),\n              get(rect, 'percentHeight'),\n            ];\n            const updateSuccessful = await updateAnnotationProperty(\n              editId,\n              'bounds',\n              { rect: coords, theta: get(rect, 'theta', 0) },\n            );\n            if (updateSuccessful) {\n              setEditId(null);\n              refreshSightingData();\n            }\n          }}\n          disableDelete\n          error={patchError}\n          loading={patchInProgress}\n          imgSrc={get(editAnnotation, 'src')}\n          annotations={[editAnnotation]}\n        />\n      )}\n      <ConfirmDelete\n        open={Boolean(deleteId)}\n        onClose={() => setDeleteId(null)}\n        onDelete={async () => {\n          const deleteSuccessful = await deleteAnnotation(deleteId);\n          if (deleteSuccessful) {\n            setDeleteId(null);\n            refreshSightingData();\n          }\n        }}\n        deleteInProgress={deleteInProgress}\n        error={deleteAnnotationError}\n        onClearError={() => deleteAnnotationError(null)}\n        messageId=\"CONFIRM_DELETE_ANNOTATION_DESCRIPTION\"\n      />\n      {annotations.length === 0 ? (\n        <Text id=\"NO_ANNOTATIONS_MESSAGE\" />\n      ) : null}\n      {annotations.map(annotation => (\n        <div key={annotation.guid} style={{ position: 'relative' }}>\n          <AnnotatedPhotograph\n            assetMetadata={annotation}\n            annotations={[annotation]}\n            onClick={() => setDetailId(annotation.guid)}\n          />\n          <IconButton\n            onClick={e =>\n              setAnchorInfo({ element: e.currentTarget, annotation })\n            }\n            style={{\n              position: 'absolute',\n              top: 4,\n              right: 4,\n              color: theme.palette.common.white,\n            }}\n            className={classes.photoIcon}\n          >\n            <MoreIcon />\n          </IconButton>\n          <Keywords annotation={annotation} />\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { get, set, pick } from 'lodash-es';\n\nimport Grid from '@material-ui/core/Grid';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport usePostIndividual from '../../../models/individual/usePostIndividual';\nimport useIndividualFieldSchemas from '../../../models/individual/useIndividualFieldSchemas';\nimport StandardDialog from '../../../components/StandardDialog';\nimport InputRow from '../../../components/fields/edit/InputRowNew';\nimport Button from '../../../components/Button';\nimport ButtonLink from '../../../components/ButtonLink';\nimport Alert from '../../../components/Alert';\nimport Text from '../../../components/Text';\n\nfunction calculateInitialState(schemas) {\n  if (!schemas) return {};\n  return schemas.reduce((memo, field) => {\n    set(memo, field.name, field.defaultValue);\n    return memo;\n  }, {});\n}\n\nexport default function CreateIndividualModal({\n  open,\n  onClose,\n  encounterId,\n}) {\n  const { loading, error, postIndividual } = usePostIndividual();\n\n  const [formState, setFormState] = useState({});\n\n  const [newIndividualId, setNewIndividualId] = useState(null);\n  const fieldSchemas = useIndividualFieldSchemas();\n  const createFieldSchemas = fieldSchemas.filter(\n    f => f.requiredForIndividualCreation,\n  );\n\n  useEffect(() => {\n    const initialState = calculateInitialState(fieldSchemas);\n    setFormState(initialState);\n  }, fieldSchemas);\n\n  const onCloseDialog = () => {\n    setFormState(calculateInitialState(fieldSchemas));\n    setNewIndividualId(null);\n    onClose();\n  };\n\n  return (\n    <StandardDialog\n      maxWidth={newIndividualId ? 'sm' : 'xl'}\n      titleId={\n        newIndividualId\n          ? 'NEW_INDIVIDUAL_CREATED'\n          : 'CREATE_INDIVIDUAL'\n      }\n      open={open}\n      onClose={onCloseDialog}\n    >\n      <DialogContent>\n        {newIndividualId ? (\n          <Text id=\"NEW_INDIVIDUAL_CREATED_DESCRIPTION\" />\n        ) : (\n          <Grid\n            container\n            spacing={2}\n            justify=\"center\"\n            component=\"form\"\n            direction=\"column\"\n          >\n            {createFieldSchemas.map(schema => (\n              <Grid item key={schema.name}>\n                <InputRow schema={schema}>\n                  <schema.editComponent\n                    schema={schema}\n                    value={get(formState, schema.name)}\n                    onChange={newFieldValue => {\n                      const newFormState = {\n                        ...set(formState, schema.name, newFieldValue),\n                      };\n                      setFormState(newFormState);\n                    }}\n                  />\n                </InputRow>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n        {error && (\n          <Alert\n            titleId=\"SERVER_ERROR\"\n            style={{ marginTop: 16, marginBottom: 8 }}\n            severity=\"error\"\n          >\n            {error}\n          </Alert>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button\n          display=\"basic\"\n          onClick={onCloseDialog}\n          id={newIndividualId ? 'CLOSE' : 'CANCEL'}\n        />\n        {newIndividualId ? (\n          <ButtonLink\n            id=\"VIEW_NEW_INDIVIDUAL\"\n            display=\"primary\"\n            href={`/individuals/${newIndividualId}`}\n          />\n        ) : (\n          <Button\n            display=\"primary\"\n            loading={loading}\n            onClick={async () => {\n              const individualData = pick(formState, 'names'); // just this for now...\n              const newId = await postIndividual(\n                individualData,\n                encounterId,\n              );\n              setNewIndividualId(newId);\n            }}\n            id=\"CREATE_INDIVIDUAL\"\n          />\n        )}\n      </DialogActions>\n    </StandardDialog>\n  );\n}\n","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport UsersIcon from '@material-ui/icons/People';\nimport SightingsIcon from '@material-ui/icons/PhotoCamera';\nimport IndividualsIcon from '@material-ui/icons/Fingerprint';\nimport Text from '../../components/Text';\n\nconst metrics = [\n  {\n    labelId: 'IDENTIFIED_INDIVIDUALS',\n    count: 257,\n    icon: IndividualsIcon,\n  },\n  {\n    labelId: 'REPORTED_SIGHTINGS',\n    count: 810,\n    icon: SightingsIcon,\n  },\n  {\n    labelId: 'USERS',\n    count: 951,\n    icon: UsersIcon,\n  },\n];\n\nexport default function Testimonial() {\n  const theme = useTheme();\n  const isSm = useMediaQuery(theme.breakpoints.down('sm'));\n\n  return (\n    <div\n      style={{\n        marginTop: 40,\n        padding: '40px 0',\n        backgroundColor: theme.palette.primary.main,\n      }}\n    >\n      <Grid\n        container\n        justify=\"space-around\"\n        direction={isSm ? 'column' : 'row'}\n        style={{\n          width: '100vw',\n          padding: '0 20px',\n          backgroundColor: theme.palette.common.black,\n          color: theme.palette.common.white,\n        }}\n      >\n        {metrics.map(metric => (\n          <Grid\n            item\n            style={{\n              display: 'flex',\n              margin: '32px 0',\n              flexDirection: isSm ? 'column' : 'row',\n              alignItems: 'center',\n            }}\n          >\n            <metric.icon\n              style={{ fontSize: 52, marginRight: isSm ? 0 : 12 }}\n            />\n            <div style={{ textAlign: isSm ? 'center' : 'unset' }}>\n              <Text\n                style={{\n                  color: theme.palette.primary.main,\n                  fontWeight: 800,\n                  letterSpacing: '0.02em',\n                  fontSize: isSm ? '1.8rem' : '1.2rem',\n                }}\n              >\n                {metric.count}\n              </Text>\n              <Text\n                style={{\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.02em',\n                  fontSize: 14,\n                  fontWeight: 400,\n                }}\n                id={metric.labelId}\n              />\n            </div>\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n}\n","import React from 'react';\nimport { get } from 'lodash-es';\nimport Grid from '@material-ui/core/Grid';\n\nimport ButtonLink from '../../components/ButtonLink';\nimport Text from '../../components/Text';\nimport useSiteSettings from '../../models/site/useSiteSettings';\n\nconst imageSize = '25vw';\n\nexport default function CustomCard() {\n  const { data: siteSettings, loading, error } = useSiteSettings();\n\n  if (loading || error) return null;\n\n  const buttonUrl = get(siteSettings, [\n    'site.general.customCardButtonUrl',\n    'value',\n  ]);\n\n  const imageUrl = get(siteSettings, [\n    'site.images',\n    'customCardImage',\n  ]);\n\n  return (\n    <Grid\n      container\n      justify=\"center\"\n      style={{\n        width: '100vw',\n        margin: '64px auto',\n        display: 'flex',\n        justifyContent: 'space-evenly',\n      }}\n    >\n      <Grid item style={{ marginBottom: 40 }}>\n        <div\n          style={{\n            backgroundImage: `url(${imageUrl})`,\n            borderRadius: 1000,\n            backgroundSize: 'cover',\n            float: 'right',\n            height: imageSize,\n            width: imageSize,\n            minHeight: 280,\n            minWidth: 280,\n          }}\n        />\n      </Grid>\n      <Grid\n        item\n        style={{\n          textAlign: 'left',\n          maxWidth: 480,\n          padding: '0 20px',\n        }}\n      >\n        <Text\n          responsive\n          mobileStyle={{\n            fontSize: 20,\n            lineHeight: '30px',\n          }}\n          desktopStyle={{\n            fontSize: 24,\n            lineHeight: '36px',\n          }}\n          style={{\n            fontStyle: 'italic',\n            letterSpacing: '0.05em',\n          }}\n        >\n          {get(\n            siteSettings,\n            ['site.general.customCardLine1', 'value'],\n            '',\n          )}\n        </Text>\n        <Text\n          responsive\n          mobileStyle={{\n            fontSize: 18,\n            lineHeight: '26px',\n          }}\n          desktopStyle={{\n            fontSize: 22,\n            lineHeight: '36px',\n          }}\n          style={{\n            marginTop: 40,\n            letterSpacing: '0.04em',\n            fontWeight: 'bold',\n          }}\n        >\n          {get(\n            siteSettings,\n            ['site.general.customCardLine2', 'value'],\n            '',\n          )}\n        </Text>\n        {buttonUrl && (\n          <ButtonLink\n            display=\"marketing\"\n            style={{\n              marginTop: 52,\n            }}\n            href={buttonUrl}\n            external\n          >\n            {get(\n              siteSettings,\n              ['site.general.customCardButtonText', 'value'],\n              '',\n            )}\n          </ButtonLink>\n        )}\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { get } from 'lodash-es';\nimport { useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport IdentificationIcon from '@material-ui/icons/Fingerprint';\nimport CodeIcon from '@material-ui/icons/Code';\nimport AnalysisIcon from '@material-ui/icons/BarChart';\nimport Text from '../../components/Text';\nimport useSiteSettings from '../../models/site/useSiteSettings';\n\nfunction Card({ Icon, titleId, descriptionId }) {\n  const theme = useTheme();\n\n  return (\n    <Grid\n      item\n      style={{\n        width: 240,\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        marginBottom: 48,\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: theme.palette.primary.main,\n          padding: 12,\n          height: 108,\n          width: 108,\n          borderRadius: 10000,\n        }}\n      >\n        <Icon\n          style={{ fontSize: 64, color: theme.palette.common.black }}\n        />\n      </div>\n      <Text\n        responsive\n        variant=\"h5\"\n        style={{ marginTop: 40, marginBottom: 20 }}\n        id={titleId}\n      />\n      <Text\n        style={{\n          color: '#818181',\n          lineHeight: '25px',\n          fontSize: 18,\n          letterSpacing: '0.04em',\n          fontWeight: 400,\n        }}\n        id={descriptionId}\n      />\n    </Grid>\n  );\n}\n\nexport default function Trifold() {\n  const { data: siteSettings, loading, error } = useSiteSettings();\n  const siteDescription = get(\n    siteSettings,\n    ['site.general.description', 'value'],\n    '',\n  );\n\n  if (loading || error) return null;\n\n  return (\n    <div\n      style={{\n        width: '100vw',\n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginTop: 40,\n        padding: 20,\n      }}\n    >\n      <Text\n        responsive\n        variant=\"h2\"\n        style={{ marginBottom: 48 }}\n        id=\"TRIFOLD_TAGLINE\"\n      />\n      <Text\n        responsive\n        desktopStyle={{\n          fontSize: 24,\n          lineHeight: '45px',\n        }}\n        mobileStyle={{\n          fontSize: 16,\n          lineHeight: '30px',\n        }}\n        style={{\n          maxWidth: 900,\n          padding: '0px 20px',\n          marginBottom: 60,\n          letterSpacing: '0.04em',\n        }}\n      >\n        {siteDescription}\n      </Text>\n      <Grid\n        container\n        justify=\"space-around\"\n        style={{ maxWidth: 900, margin: '0 auto' }}\n      >\n        <Card\n          titleId=\"OPEN_SOURCE\"\n          descriptionId=\"OPEN_SOURCE_DESCRIPTION\"\n          Icon={CodeIcon}\n        />\n        <Card\n          titleId=\"AUTOMATIC_IDENTIFICATION\"\n          descriptionId=\"AUTOMATIC_IDENTIFICATION_DESCRIPTION\"\n          Icon={IdentificationIcon}\n        />\n        <Card\n          titleId=\"ANALYZE_AND_EXPORT\"\n          descriptionId=\"ANALYZE_AND_EXPORT_DESCRIPTION\"\n          Icon={AnalysisIcon}\n        />\n      </Grid>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CreatePage from '../../components/CreatePage';\nimport InputRow from '../../components/InputRow';\nimport userSchema from '../../constants/userSchema';\n\nconst schemas = userSchema.filter(\n  field => field.requiredForUserCreation,\n);\n\nexport default function CreateUser() {\n  const initialState = schemas.reduce((memo, field) => {\n    memo[field.name] = field.defaultValue;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n\n  return (\n    <CreatePage\n      ctaId=\"CREATE_USER\"\n      onCreate={() => console.log(formState)}\n    >\n      <Grid\n        container\n        spacing={2}\n        justify=\"center\"\n        component=\"form\"\n        direction=\"column\"\n      >\n        {schemas.map(field => (\n          <Grid item key={field.label || field.labelId}>\n            <InputRow\n              label={field.label}\n              labelId={field.labelId}\n              description={field.description}\n              descriptionId={field.descriptionId}\n              required={field.required}\n              schema={field}\n              value={formState[field.name]}\n              onChange={newFieldValue =>\n                setFormState({\n                  ...formState,\n                  [field.name]: newFieldValue,\n                })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </CreatePage>\n  );\n}\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { get } from 'lodash-es';\n\nimport LoadingScreen from '../../components/LoadingScreen';\nimport SadScreen from '../../components/SadScreen';\nimport AvatarGallery from '../../components/AvatarGallery';\nimport MainColumn from '../../components/MainColumn';\nimport Header from '../../components/Header';\nimport Text from '../../components/Text';\nimport ConfirmDelete from '../../components/ConfirmDelete';\nimport useGetUsers from '../../models/users/useGetUsers';\nimport useGetMe from '../../models/users/useGetMe';\nimport { selectSiteName } from '../../modules/site/selectors';\nimport useDocumentTitle from '../../hooks/useDocumentTitle';\n\nexport default function Users() {\n  const intl = useIntl();\n  const siteName = useSelector(selectSiteName);\n  const pageTitle = intl.formatMessage(\n    { id: 'USERS_PAGE_TITLE' },\n    { siteName },\n  );\n  useDocumentTitle(pageTitle, false);\n  const [userToDelete, setUserToDelete] = useState(null);\n\n  const { data, loading, error } = useGetUsers();\n  const { data: currentUserData } = useGetMe();\n  if (loading) return <LoadingScreen />;\n  if (error) return <SadScreen variant=\"genericError\" />;\n\n  const safeUsers = data || [];\n  const filteredUsers = safeUsers.filter(\n    u => u.email !== 'public@localhost',\n  );\n  const deleteUsername = get(userToDelete, 'name', 'Unknown user');\n  const isAdministrator = get(currentUserData, 'is_admin', false);\n\n  return (\n    <MainColumn>\n      <ConfirmDelete\n        onClose={() => setUserToDelete(null)}\n        onDelete={() => setUserToDelete(null)}\n        open={Boolean(userToDelete)}\n        entityToDelete={deleteUsername}\n      />\n      <Header\n        title={pageTitle}\n        showButtonLink={isAdministrator}\n        buttonLinkHref=\"/create/user\"\n        buttonText={intl.formatMessage({ id: 'CREATE_USER' })}\n      />\n      <AvatarGallery\n        entities={filteredUsers}\n        titleKey=\"full_name\"\n        filterKey=\"full_name\"\n        justify=\"flex-start\"\n        getHref={entity => `/users/${entity.guid}`}\n        canDelete={isAdministrator}\n        onDelete={entity => {\n          setUserToDelete(entity);\n        }}\n        renderDetails={entity => {\n          const affiliation = null;\n          return affiliation ? <Text>{affiliation}</Text> : null;\n        }}\n      />\n    </MainColumn>\n  );\n}\n","__webpack_require__.h = () => (\"ac235b4b\")"],"sourceRoot":""}