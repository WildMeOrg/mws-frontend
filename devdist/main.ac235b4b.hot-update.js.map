{"version":3,"sources":["webpack://codex-frontend/./src/App.jsx","webpack://codex-frontend/./src/ErrorBoundary.jsx","webpack://codex-frontend/./src/components/AuthenticatedAppHeader/HeaderButton.jsx","webpack://codex-frontend/./src/components/EditEntityModal.jsx","webpack://codex-frontend/./src/components/cards/collaborations/CollaborationsDialog.jsx","webpack://codex-frontend/./src/components/cards/collaborations/PermissionBlock.jsx","webpack://codex-frontend/./src/components/cards/collaborations/collaborationStates.js","webpack://codex-frontend/./src/components/dataDisplays/DataDisplay.jsx","webpack://codex-frontend/./src/components/settings/SettingsFileUpload.jsx","webpack://codex-frontend/./src/pages/home/Home.jsx","webpack://codex-frontend/./src/pages/individual/CreateIndividual.jsx","webpack://codex-frontend/./src/pages/org/CreateOrg.jsx","webpack://codex-frontend/./src/pages/sighting/Annotations.jsx","webpack://codex-frontend/./src/pages/sighting/encounters/CreateIndividualModal.jsx","webpack://codex-frontend/./src/pages/splash/Metrics.jsx","webpack://codex-frontend/./src/pages/splash/Testimonial.jsx","webpack://codex-frontend/./src/pages/splash/Trifold.jsx","webpack://codex-frontend/./src/pages/user/CreateUser.jsx","webpack://codex-frontend/./src/pages/user/Users.jsx","webpack://codex-frontend/webpack/runtime/getFullHash"],"names":["Intl","NumberFormat","__addLocaleData","enPolyfill","esPolyfill","messageMap","en","messagesEn","es","messagesEs","ScrollToTop","useLocation","pathname","useEffect","window","scrollTo","reducer","state","action","type","data","sightingsNeedsFetch","siteSettingsNeedsFetch","siteSettingsSchemaNeedsFetch","siteSettingsSchema","siteSettingsVersion","siteSettings","me","console","warn","ContextualizedApp","locale","useSelector","selectLocale","useSiteSettings","error","adminUserInitialized","get","primaryColor","theme","createTheme","materialTheme","App","useReducer","initialState","dispatch","hasError","errorName","errorMessage","ErrorBoundary","props","children","width","height","backgroundImage","savanna","backgroundSize","position","display","alignItems","justifyContent","margin","flexDirection","backgroundColor","padding","marginTop","location","reload","setState","maxWidth","React","Core","Icon","onClick","titleId","style","useTheme","marginLeft","palette","grey","A100","color","A400","HeaderButton","showBadge","badgeContent","rest","open","onSave","Function","prototype","onClose","fieldValues","fieldSchema","categories","categoryArray","Object","values","reduce","memo","field","name","value","useState","formState","setFormState","currentCategory","setCurrentCategory","_","newCategory","map","category","labelId","fieldData","schema","find","candidateSchema","matchingCategory","newFieldValue","collaborationSchemas","collaborationStates","UserEditDialog","activeCollaboration","refreshCollaborationData","useRequestEditAccess","requestEditAccess","requestLoading","loading","requestError","setRequestError","setError","usePatchCollaboration","patchCollaboration","patchLoading","patchError","setPatchError","request","setRequest","viewStateSchema","c","test","editStateSchema","cleanupAndClose","minWidth","paddingBottom","actionVerificationMessage","sendEditRequest","guid","successful","actionPatch","PermissionBlock","title","testKey","marginRight","flexShrink","currentStateMessage","actionMessage","disabled","whiteSpace","marginBottom","getActionPatch","actionMessage2","getActionPatch2","actionVerificationMessage2","buildCollaborationPatch","path","op","pending","viewDisablesEdit","collaboration","waiting","blocked","includes","blocking","granted","untouched","confused","getCellAlignment","cellIndex","columnDefinition","align","undefined","DataDisplay","columns","onPrint","initiallySelectedRow","onSelectRow","hideFilterSearch","renderExpandedRow","variant","idKey","noTitleBar","paginated","paginatedExternally","page","onChangePage","rowsPerPage","dataCount","paperStyles","cellStyles","initialColumnNames","filter","selectedRow","setSelectedRow","visibleColumnNames","setVisibleColumnNames","setFilter","sortColumn","setSortColumn","sortDirection","setSortDirection","anchorEl","setAnchorEl","filterPopperOpen","Boolean","startIndex","endIndex","Infinity","visibleData","datum","index","match","forEach","userSuppliedDataParser","rawValue","dataValue","userValue","toLowerCase","trim","stringifiedValue","JSON","stringify","sortedData","sortBy","reverse","visibleColumns","column","TransitionProps","length","vc","label","sendCsv","event","currentTarget","Paper","i","activeSort","TablePaginationActions","MediaViewer","url","maxHeight","SettingsFileUpload","descriptionId","changeId","required","allowedFileTypes","settingName","onSetPostData","maxFileSize","intl","useIntl","uppy","setUppy","modalOpen","setModalOpen","previewUrl","setPreviewUrl","previewText","setPreviewText","assetSubmissionId","useMemo","uuid","uppyInstance","Uppy","meta","restrictions","maxNumberOfFiles","autoProceed","use","Tus","endpoint","__houston_url__","headers","on","uppyState","uploadObject","key","transactionId","transactionPath","close","settingValue","mediaUrl","allowedFileTypeString","join","reset","formatMessage","id","Home","crash","setCrash","useGetMe","refresh","unprocessedAssetGroupId","fullName","userId","useDocumentTitle","b","a","d","e","f","createFields","defaultIndividualFields","requiredForIndividualCreation","CreateIndividual","usePostIndividual","postIndividual","defaultValue","newIndividual","log","description","CreateOrg","orgSchema","useStyles","makeStyles","photoIcon","Annotations","assets","refreshSightingData","isSm","useMediaQuery","breakpoints","down","classes","detailId","setDetailId","editId","setEditId","deleteId","setDeleteId","anchorInfo","setAnchorInfo","useDeleteAnnotation","deleteAnnotation","deleteInProgress","deleteAnnotationError","usePatchAnnotation","updateAnnotationProperty","patchInProgress","setAnnotationError","annotations","acc","asset","assetAnnotations","amendedAssetAnnotations","omit","clickedAnnotationId","detailAnnotation","editAnnotation","columnGap","rowGap","gridTemplateColumns","gridTemplateRows","gridAutoRows","rect","coords","theta","updateSuccessful","deleteSuccessful","annotation","element","top","right","common","white","calculateInitialState","schemas","set","CreateIndividualModal","encounterId","newIndividualId","setNewIndividualId","fieldSchemas","useIndividualFieldSchemas","createFieldSchemas","onCloseDialog","newFormState","individualData","pick","newId","metrics","count","icon","IndividualsIcon","SightingsIcon","UsersIcon","Testimonial","primary","main","black","metric","fontSize","textAlign","fontWeight","letterSpacing","textTransform","imageSize","CustomCard","buttonUrl","imageUrl","borderRadius","minHeight","lineHeight","fontStyle","Card","Trifold","siteDescription","CodeIcon","IdentificationIcon","AnalysisIcon","userSchema","requiredForUserCreation","CreateUser","Users","siteName","selectSiteName","pageTitle","userToDelete","setUserToDelete","useGetUsers","currentUserData","safeUsers","filteredUsers","u","email","deleteUsername","isAdministrator","entity","affiliation"],"mappings":"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","file":"main.ac235b4b.hot-update.js","sourcesContent":["import React, { useEffect, useReducer } from 'react';\nimport { BrowserRouter, useLocation } from 'react-router-dom';\nimport { get } from 'lodash-es';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport '@formatjs/intl-numberformat/polyfill';\nimport enPolyfill from '@formatjs/intl-numberformat/dist/locale-data/en';\nimport esPolyfill from '@formatjs/intl-numberformat/dist/locale-data/es';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {\n  createTheme,\n  ThemeProvider,\n} from '@material-ui/core/styles';\n\nimport useSiteSettings from './models/site/useSiteSettings';\nimport { selectLocale } from './modules/app/selectors';\nimport materialTheme from './styles/materialTheme';\nimport messagesEn from '../locale/en.json';\nimport messagesEs from '../locale/es.json';\nimport { AppContext, initialState } from './context';\nimport FrontDesk from './FrontDesk';\nimport SadScreen from './components/SadScreen';\nimport ErrorBoundary from './ErrorBoundary';\n\n// polyfill to enable formatting of a number using the unit prop\nif (typeof Intl.NumberFormat.__addLocaleData === 'function') {\n  Intl.NumberFormat.__addLocaleData(enPolyfill);\n  Intl.NumberFormat.__addLocaleData(esPolyfill);\n}\n\nconst messageMap = {\n  en: messagesEn,\n  es: messagesEs,\n};\n\nfunction ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => window.scrollTo(0, 0), [pathname]);\n\n  return null;\n}\n\nfunction reducer(state, action) {\n  const { type, data } = action;\n  if (type === 'SET_SIGHTINGS_NEEDS_FETCH') {\n    return { ...state, sightingsNeedsFetch: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_NEEDS_FETCH') {\n    return { ...state, siteSettingsNeedsFetch: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_SCHEMA_NEEDS_FETCH') {\n    return { ...state, siteSettingsSchemaNeedsFetch: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_SCHEMA') {\n    return { ...state, siteSettingsSchema: data };\n  }\n  if (type === 'SET_SITE_SETTINGS_VERSION') {\n    return { ...state, siteSettingsVersion: data };\n  }\n  if (type === 'SET_SITE_SETTINGS') {\n    return { ...state, siteSettings: data };\n  }\n  if (type === 'SET_ME') {\n    return { ...state, me: data };\n  }\n  console.warn('Action not recognized', action);\n  return state;\n}\n\nfunction ContextualizedApp() {\n  const locale = useSelector(selectLocale);\n  const { data, error } = useSiteSettings();\n\n  const adminUserInitialized = get(data, 'site.adminUserInitialized');\n  const primaryColor = get(data, ['site.look.themeColor', 'value']);\n\n  if (error) return <SadScreen variant=\"serverError\" />;\n  if (!primaryColor) return null;\n  const theme = createTheme(materialTheme(primaryColor));\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <IntlProvider\n        locale={locale}\n        defaultLocale=\"en\"\n        messages={messageMap[locale]}\n      >\n        <BrowserRouter basename=\"/\">\n          <ScrollToTop />\n          <ErrorBoundary>\n            <FrontDesk adminUserInitialized={adminUserInitialized} />\n          </ErrorBoundary>\n        </BrowserRouter>\n      </IntlProvider>\n    </ThemeProvider>\n  );\n}\n\nexport default function App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <AppContext.Provider value={{ state, dispatch }}>\n      <ContextualizedApp />\n    </AppContext.Provider>\n  );\n}\n","import React from 'react';\nimport { get } from 'lodash-es';\n\nimport Paper from '@material-ui/core/Paper';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport ButtonLink from './components/ButtonLink';\nimport Button from './components/Button';\nimport Text from './components/Text';\nimport savanna from './assets/savanna.jpeg';\n\nconst initialState = {\n  hasError: false,\n  errorName: '',\n  errorMessage: '',\n};\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true,\n      errorName: get(error, 'name', 'Unnamed Error'),\n      errorMessage: get(error, 'message', 'No details available.'),\n    };\n  }\n\n  render() {\n    if (!this.state.hasError) {\n      return this.props.children;\n    }\n\n    return (\n      <div\n        style={{\n          width: '100%',\n          height: '100vh',\n          backgroundImage: `url(${savanna})`,\n          backgroundSize: 'cover',\n          position: 'relative',\n        }}\n      >\n        <div\n          style={{\n            height: '100vh',\n            display: 'flex',\n            alignItems: 'flex-start',\n            justifyContent: 'center',\n          }}\n        >\n          <Paper\n            style={{\n              margin: '100px 20px 0 20px',\n              display: 'flex',\n              flexDirection: 'column',\n              backgroundColor: '#ffffffc2',\n              padding: 20,\n            }}\n          >\n            <Text variant=\"h4\" id=\"AN_ERROR_OCCURRED\" />\n            <div\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                justifyContent: 'space-between',\n              }}\n            >\n              <Button\n                style={{\n                  width: '100%',\n                  marginTop: 12,\n                }}\n                display=\"primary\"\n                onClick={() => {\n                  window.location.reload();\n                }}\n                id=\"RELOAD_THE_PAGE\"\n              />\n              <ButtonLink\n                style={{\n                  width: '100%',\n                  marginTop: 8,\n                }}\n                display=\"secondary\"\n                onClick={() => this.setState(initialState)}\n                href=\"/\"\n                id=\"RETURN_HOME\"\n              />\n              <ButtonLink\n                style={{\n                  width: '100%',\n                  marginTop: 8,\n                }}\n                href=\"https://community.wildme.org/\"\n                display=\"tertiary\"\n                external\n                newTab\n                id=\"REPORT_TO_COMMUNITY\"\n              />\n            </div>\n            <div\n              style={{ marginTop: 20, width: '100%', maxWidth: 400 }}\n            >\n              <Accordion>\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                  <Text variant=\"h6\" id=\"VIEW_ERROR_DETAILS\" />\n                </AccordionSummary>\n                <AccordionDetails\n                  style={{ display: 'flex', flexDirection: 'column' }}\n                >\n                  <Text variant=\"h5\">{this.state.errorName}</Text>\n                  <Text variant=\"body2\">\n                    {this.state.errorMessage}\n                  </Text>\n                </AccordionDetails>\n              </Accordion>\n            </div>\n          </Paper>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ErrorBoundary;\n","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport Text from '../Text';\n\nfunction Core({ Icon, onClick, titleId, style = {} }) {\n  const theme = useTheme();\n\n  return (\n    <Tooltip title={<Text variant=\"body2\" id={titleId} />}>\n      <IconButton\n        onClick={onClick}\n        style={{\n          marginLeft: 8,\n          padding: 10,\n          backgroundColor: theme.palette.grey.A100,\n          color: theme.palette.grey.A400,\n          ...style,\n        }}\n      >\n        <Icon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n\nexport default function HeaderButton({\n  showBadge,\n  badgeContent,\n  ...rest\n}) {\n  if (showBadge)\n    return (\n      <Badge\n        color=\"secondary\"\n        overlap=\"circular\"\n        badgeContent={badgeContent}\n      >\n        <Core {...rest} />\n      </Badge>\n    );\n  return <Core {...rest} />;\n}\n","import React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Grid from '@material-ui/core/Grid';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Button from './Button';\nimport LabeledInput from './LabeledInput';\nimport StandardDialog from './StandardDialog';\n\nexport default function({\n  open,\n  onSave = Function.prototype,\n  onClose = Function.prototype,\n  fieldValues,\n  fieldSchema,\n  categories,\n}) {\n  const categoryArray = categories ? Object.values(categories) : null;\n\n  const initialState = fieldValues.reduce((memo, field) => {\n    memo[field.name] = field.value;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n  const [currentCategory, setCurrentCategory] = useState(\n    categories ? categoryArray[0].name : null,\n  );\n\n  return (\n    <StandardDialog open={open} onClose={onClose} titleId=\"EDIT\">\n      <DialogContent style={{ height: 500 }}>\n        {categories && (\n          <Tabs\n            component=\"h3\"\n            value={currentCategory}\n            style={{ marginTop: 0 }}\n            onChange={(_, newCategory) =>\n              setCurrentCategory(newCategory)\n            }\n          >\n            {categoryArray.map(category => (\n              <Tab\n                key={category.name}\n                value={category.name}\n                label={<FormattedMessage id={category.labelId} />}\n              />\n            ))}\n          </Tabs>\n        )}\n        <Grid\n          container\n          spacing={2}\n          justifyContent=\"center\"\n          style={{ maxWidth: 320 }}\n        >\n          {fieldValues.map(fieldData => {\n            const schema = fieldSchema.find(\n              candidateSchema =>\n                candidateSchema.name === fieldData.name,\n            );\n\n            const matchingCategory = currentCategory\n              ? schema.category === currentCategory\n              : true;\n            if (!matchingCategory) return null;\n\n            return (\n              <Grid item key={fieldData.name}>\n                <LabeledInput\n                  schema={schema}\n                  value={formState[fieldData.name]}\n                  onChange={newFieldValue => {\n                    setFormState({\n                      ...formState,\n                      [fieldData.name]: newFieldValue,\n                    });\n                  }}\n                />\n              </Grid>\n            );\n          })}\n        </Grid>\n      </DialogContent>\n      <DialogActions\n        style={{ padding: '0px 24px 24px 24px', marginTop: 32 }}\n      >\n        <Button\n          onClick={() => {\n            setFormState(initialState);\n            onClose();\n          }}\n          display=\"basic\"\n        >\n          <FormattedMessage id=\"CANCEL\" />\n        </Button>\n        <Button\n          onClick={() => {\n            onSave(formState);\n          }}\n          display=\"primary\"\n          autoFocus\n        >\n          <FormattedMessage id=\"CONFIRM\" />\n        </Button>\n      </DialogActions>\n    </StandardDialog>\n  );\n}\n","import React, { useState } from 'react';\nimport { get } from 'lodash-es';\n\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport usePatchCollaboration from '../../../models/collaboration/usePatchCollaboration';\nimport useRequestEditAccess from '../../../models/collaboration/useRequestEditAccess';\nimport Alert from '../../Alert';\nimport Button from '../../Button';\nimport Text from '../../Text';\nimport StandardDialog from '../../StandardDialog';\nimport PermissionBlock from './PermissionBlock';\nimport collaborationStates from './collaborationStates';\n\nconst collaborationSchemas = Object.values(collaborationStates);\n\nexport default function UserEditDialog({\n  open,\n  onClose,\n  activeCollaboration,\n  refreshCollaborationData,\n}) {\n  const {\n    requestEditAccess,\n    loading: requestLoading,\n    error: requestError,\n    setError: setRequestError,\n  } = useRequestEditAccess();\n\n  const {\n    patchCollaboration,\n    loading: patchLoading,\n    error: patchError,\n    setError: setPatchError,\n  } = usePatchCollaboration();\n\n  const loading = requestLoading || patchLoading;\n  const error = requestError || patchError;\n\n  const [request, setRequest] = useState(null);\n\n  const viewStateSchema = collaborationSchemas.find(c =>\n    c.test('viewState', activeCollaboration),\n  );\n  const editStateSchema = collaborationSchemas.find(c =>\n    c.test('editState', activeCollaboration),\n  );\n\n  function cleanupAndClose() {\n    setRequest(null);\n    setPatchError(null);\n    setRequestError(null);\n    onClose();\n  }\n\n  return (\n    <StandardDialog\n      open={open}\n      onClose={cleanupAndClose}\n      title={`Collaboration with ${get(\n        activeCollaboration,\n        'otherUserName',\n        '',\n      )}`}\n    >\n      <div\n        style={{ width: '100%', minWidth: 360, paddingBottom: 32 }}\n      >\n        {request ? (\n          <Text\n            style={{ padding: '20px 24px 0 24px' }}\n            variant=\"body2\"\n          >\n            {request.actionVerificationMessage}\n          </Text>\n        ) : (\n          <>\n            <PermissionBlock\n              title=\"View\"\n              testKey=\"viewState\"\n              schema={viewStateSchema}\n              setRequest={setRequest}\n            />\n            <PermissionBlock\n              title=\"Edit\"\n              testKey=\"editState\"\n              schema={editStateSchema}\n              setRequest={setRequest}\n              disabled={get(\n                viewStateSchema,\n                'viewDisablesEdit',\n                false,\n              )}\n            />\n          </>\n        )}\n      </div>\n      {error && (\n        <Alert\n          style={{ margin: '0px 24px 20px 24px' }}\n          severity=\"error\"\n          titleId=\"SERVER_ERROR\"\n        >\n          {error}\n        </Alert>\n      )}\n      {request && (\n        <DialogActions style={{ padding: '0px 24px 24px 24px' }}>\n          <Button\n            display=\"primary\"\n            onClick={async () => {\n              let successful;\n              if (request.sendEditRequest) {\n                successful = await requestEditAccess(\n                  activeCollaboration.guid,\n                );\n              } else {\n                successful = await patchCollaboration(\n                  activeCollaboration.guid,\n                  request.actionPatch,\n                );\n              }\n\n              if (successful) {\n                refreshCollaborationData();\n                cleanupAndClose();\n              }\n            }}\n            loading={loading}\n            id=\"SAVE\"\n          />\n        </DialogActions>\n      )}\n    </StandardDialog>\n  );\n}\n","import React from 'react';\n\nimport Button from '../../Button';\nimport Text from '../../Text';\n\nexport default function PermissionBlock({\n  title,\n  schema,\n  setRequest,\n  testKey,\n}) {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        padding: '20px 24px 0 24px',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          marginRight: 40,\n          flexShrink: 1,\n        }}\n      >\n        <Text>{title}</Text>\n        <Text variant=\"body2\">{schema.currentStateMessage}</Text>\n      </div>\n      {schema.actionMessage ? (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'flex-end',\n            justifyContent: 'flex-end',\n            minWidth: '30%',\n            flexDirection: 'column',\n          }}\n        >\n          <Button\n            disabled={disabled}\n            style={{ whiteSpace: 'nowrap', marginBottom: 8 }}\n            onClick={() => {\n              const actionPatch = schema.getActionPatch(\n                testKey,\n                schema,\n              );\n              setRequest({ ...schema, actionPatch });\n            }}\n          >\n            {schema.actionMessage}\n          </Button>\n          {schema.actionMessage2 && (\n            <Button\n              disabled={disabled}\n              style={{ whiteSpace: 'nowrap' }}\n              onClick={() => {\n                const actionPatch = schema.getActionPatch2(\n                  testKey,\n                  schema,\n                );\n                setRequest({\n                  ...schema,\n                  actionVerificationMessage:\n                    schema.actionVerificationMessage2,\n                  actionPatch,\n                });\n              }}\n            >\n              {schema.actionMessage2}\n            </Button>\n          )}\n        </div>\n      ) : (\n        <div />\n      )}\n    </div>\n  );\n}\n","import { get } from 'lodash-es';\n\nfunction buildCollaborationPatch(testKey, value) {\n  const path =\n    testKey === 'viewState' ? '/view_permission' : '/edit_permission';\n  return [\n    {\n      op: 'replace',\n      path,\n      value,\n    },\n  ];\n}\n\nexport default {\n  pending: {\n    viewDisablesEdit: true,\n    test: (testKey, collaboration) =>\n      get(collaboration, ['otherUserData', testKey]) === 'pending',\n    currentStateMessage:\n      'Access requested. Waiting for your request to be approved.',\n  },\n  waiting: {\n    viewDisablesEdit: true,\n    test: (testKey, collaboration) =>\n      get(collaboration, ['thisUserData', testKey]) === 'pending',\n    currentStateMessage: 'Data access requested.',\n    actionMessage: 'Grant access',\n    actionVerificationMessage:\n      'Are you sure you want to grant access?',\n    getActionPatch: testKey =>\n      buildCollaborationPatch(testKey, 'approved'),\n    actionMessage2: 'Deny access',\n    actionVerificationMessage2:\n      'Are you sure you want to deny access?',\n    getActionPatch2: testKey =>\n      buildCollaborationPatch(testKey, 'declined'),\n  },\n  blocked: {\n    viewDisablesEdit: true,\n    test: (testKey, collaboration) =>\n      ['declined', 'revoked'].includes(\n        get(collaboration, ['otherUserData', testKey]),\n      ),\n    currentStateMessage:\n      'Access revoked. Only your collaboration partner can restore access.',\n  },\n  blocking: {\n    viewDisablesEdit: true,\n    test: (testKey, collaboration) =>\n      ['declined', 'revoked'].includes(\n        get(collaboration, ['thisUserData', testKey]),\n      ),\n    currentStateMessage: 'You have revoked access.',\n    actionMessage: 'Restore access',\n    actionVerificationMessage:\n      'Are you sure you want to restore access? Your data will also become available to your collaboration partner.',\n    getActionPatch: testKey =>\n      buildCollaborationPatch(testKey, 'approved'),\n  },\n  granted: {\n    viewDisablesEdit: false,\n    test: (testKey, collaboration) =>\n      get(collaboration, ['otherUserData', testKey]) === 'approved',\n    currentStateMessage: 'Access granted.',\n    actionMessage: 'Revoke access',\n    actionVerificationMessage:\n      \"Are you sure you want to revoke access? Access to your collaboration partner's data will be revoked as well.\",\n    getActionPatch: testKey =>\n      buildCollaborationPatch(testKey, 'revoked'),\n  },\n  untouched: {\n    viewDisablesEdit: true,\n    test: (testKey, collaboration) =>\n      get(collaboration, ['otherUserData', testKey]) ===\n      'not_initiated',\n    currentStateMessage: 'Access has not been requested.',\n    actionMessage: 'Request access',\n    actionVerificationMessage:\n      'Are you sure you want to request access? Your data will also become available to your collaboration partner.',\n    getActionPatch: Function.prototype,\n    sendEditRequest: true,\n  },\n  confused: {\n    test: () => true,\n    currentStateMessage:\n      'Something went wrong: could not determine collaboration state.',\n  },\n};\n","import React, { useState } from 'react';\nimport { get, sortBy } from 'lodash-es';\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nimport Print from '@material-ui/icons/Print';\nimport FilterList from '@material-ui/icons/FilterList';\nimport CloudDownload from '@material-ui/icons/CloudDownload';\n\nimport FilterBar from '../FilterBar';\nimport Text from '../Text';\nimport TablePaginationActions from './TablePaginationActions';\nimport CollabsibleRow from './CollapsibleRow';\nimport sendCsv from './sendCsv';\n\nfunction getCellAlignment(cellIndex, columnDefinition) {\n  if (columnDefinition.align) return columnDefinition.align;\n  if (cellIndex === 0) return undefined;\n  return 'right';\n}\n\n/* Note for component consumers: every data item needs a unique ID!\n   Yeah yeah typescript proptypes yeah yeah */\nexport default function DataDisplay({\n  columns,\n  data,\n  title,\n  onPrint,\n  initiallySelectedRow = null,\n  onSelectRow = Function.prototype,\n  hideFilterSearch = false,\n  renderExpandedRow,\n  variant = 'primary',\n  idKey = 'id',\n  noTitleBar,\n  loading,\n  paginated = false,\n  paginatedExternally = true, // display all data provided and let parent component(s) paginate\n  page,\n  onChangePage,\n  rowsPerPage,\n  dataCount, // in a paginated table there will be more data than provided to the data prop\n  paperStyles = {},\n  cellStyles = {},\n  ...rest\n}) {\n  const initialColumnNames = columns\n    .filter(c => get(c, 'options.display', true))\n    .map(c => c.name);\n\n  const [selectedRow, setSelectedRow] = useState(\n    initiallySelectedRow,\n  );\n  const [visibleColumnNames, setVisibleColumnNames] = useState(\n    initialColumnNames,\n  );\n  const [filter, setFilter] = useState('');\n  const [sortColumn, setSortColumn] = useState(null);\n  const [sortDirection, setSortDirection] = useState(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const filterPopperOpen = Boolean(anchorEl);\n\n  const startIndex = paginated ? page * rowsPerPage : 0;\n  const endIndex = paginated\n    ? (page + 1) * rowsPerPage - 1\n    : Infinity;\n\n  const visibleData = data.filter((datum, index) => {\n    if (index < startIndex && !paginatedExternally) return false;\n    if (index > endIndex && !paginatedExternally) return false;\n\n    let match = false;\n    columns.forEach(c => {\n      const userSuppliedDataParser = get(c, 'options.getStringValue');\n      const rawValue = get(datum, c.name, '');\n      let dataValue;\n      if (userSuppliedDataParser) {\n        const userValue = userSuppliedDataParser(rawValue, datum);\n        dataValue = userValue\n          ? userValue.toLowerCase().trim()\n          : userValue;\n      } else {\n        const stringifiedValue = JSON.stringify(rawValue) || '';\n        dataValue = stringifiedValue.toLowerCase().trim();\n      }\n      if (dataValue && dataValue.includes(filter.toLowerCase()))\n        match = true;\n    });\n\n    return match;\n  });\n\n  let sortedData = visibleData;\n  if (sortColumn) {\n    sortedData = sortBy(data, sortColumn);\n    if (sortDirection === 'asc') sortedData.reverse();\n  }\n\n  const visibleColumns = columns.filter(column =>\n    visibleColumnNames.includes(column.name),\n  );\n\n  return (\n    <div {...rest}>\n      <Popper\n        open={filterPopperOpen}\n        anchorEl={anchorEl}\n        placement=\"bottom-end\"\n        transition\n      >\n        {({ TransitionProps }) => (\n          <Fade {...TransitionProps} timeout={350}>\n            <Paper\n              style={{ padding: '20px 32px 20px 20px' }}\n              elevation={8}\n            >\n              <Grid container direction=\"column\">\n                {!hideFilterSearch && (\n                  <FilterBar\n                    size=\"small\"\n                    width={140}\n                    style={{ margin: '0 0 12px 0' }}\n                    value={filter}\n                    onChange={setFilter}\n                  />\n                )}\n                {columns\n                  .filter(c =>\n                    get(c, 'options.displayInFilter', true),\n                  )\n                  .map(c => (\n                    <FormControlLabel\n                      key={c.name}\n                      control={\n                        <Checkbox\n                          size=\"small\"\n                          checked={visibleColumnNames.includes(\n                            c.name,\n                          )}\n                          onClick={() => {\n                            if (visibleColumnNames.includes(c.name)) {\n                              if (visibleColumnNames.length === 1)\n                                return;\n                              setVisibleColumnNames(\n                                visibleColumnNames.filter(\n                                  vc => vc !== c.name,\n                                ),\n                              );\n                            } else {\n                              setVisibleColumnNames([\n                                ...visibleColumnNames,\n                                c.name,\n                              ]);\n                            }\n                          }}\n                        />\n                      }\n                      label={<Text variant=\"body2\">{c.label}</Text>}\n                    />\n                  ))}\n              </Grid>\n            </Paper>\n          </Fade>\n        )}\n      </Popper>\n      {!noTitleBar && (\n        <Grid\n          container\n          justifyContent=\"space-between\"\n          alignItems=\"center\"\n          style={{ margin: '16px 0' }}\n        >\n          <Grid item>\n            <Text\n              variant={\n                variant === 'primary' ? 'subtitle1' : 'subtitle2'\n              }\n              style={{\n                margin:\n                  variant === 'secondary' ? '12px 0 0 12px' : 'unset',\n              }}\n            >\n              {title}\n            </Text>\n          </Grid>\n          <Grid item>\n            {variant === 'primary' && (\n              <IconButton\n                onClick={() => sendCsv(visibleColumns, visibleData)}\n                size=\"small\"\n              >\n                <CloudDownload style={{ marginRight: 4 }} />\n              </IconButton>\n            )}\n            {onPrint && (\n              <IconButton onClick={onPrint} size=\"small\">\n                <Print style={{ marginRight: 4 }} />\n              </IconButton>\n            )}\n            <IconButton\n              onClick={event => {\n                setAnchorEl(anchorEl ? null : event.currentTarget);\n              }}\n              size=\"small\"\n            >\n              <FilterList />\n            </IconButton>\n          </Grid>\n        </Grid>\n      )}\n      <TableContainer\n        component={variant === 'secondary' ? Paper : undefined}\n        elevation={variant === 'secondary' ? 2 : undefined}\n        style={paperStyles}\n      >\n        <Table\n          style={{ minWidth: 10 }}\n          size=\"small\"\n          aria-label={title}\n        >\n          <TableHead>\n            <TableRow>\n              {renderExpandedRow && <TableCell />}\n              {visibleColumns.map((c, i) => {\n                const activeSort = c.name === sortColumn;\n                return (\n                  <TableCell\n                    key={c.name}\n                    align={getCellAlignment(i, c)}\n                    sortDirection={activeSort ? sortDirection : false}\n                    style={{ whiteSpace: 'nowrap' }}\n                  >\n                    <TableSortLabel\n                      active={activeSort}\n                      direction={activeSort ? sortDirection : 'asc'}\n                      onClick={() => {\n                        setSortDirection(\n                          sortDirection === 'asc' ? 'desc' : 'asc',\n                        );\n                        setSortColumn(c.name);\n                      }}\n                    >\n                      {c.label}\n                    </TableSortLabel>\n                  </TableCell>\n                );\n              })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!loading &&\n              sortedData.map(datum => (\n                <CollabsibleRow\n                  key={get(datum, idKey)}\n                  onClick={() => {\n                    if (selectedRow === get(datum, idKey)) {\n                      setSelectedRow(null);\n                      onSelectRow(null);\n                    } else {\n                      setSelectedRow(get(datum, idKey));\n                      onSelectRow(datum);\n                    }\n                  }}\n                  selected={selectedRow === get(datum, idKey)}\n                  datum={datum}\n                  cellStyles={cellStyles}\n                  columns={visibleColumns}\n                  renderExpandedRow={renderExpandedRow}\n                />\n              ))}\n          </TableBody>\n          {paginated && !loading && (\n            <TableFooter>\n              <TableRow>\n                <TablePagination\n                  page={page}\n                  count={dataCount || get(data, 'length', 0)}\n                  onChangePage={onChangePage}\n                  rowsPerPage={rowsPerPage}\n                  rowsPerPageOptions={[rowsPerPage]}\n                  ActionsComponent={TablePaginationActions}\n                />\n              </TableRow>\n            </TableFooter>\n          )}\n        </Table>\n      </TableContainer>\n      {loading && <LinearProgress style={{ margin: '16px 32px' }} />}\n    </div>\n  );\n}\n","import React, { useEffect, useState, useMemo } from 'react';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { get } from 'lodash-es';\nimport ReactPlayer from 'react-player';\nimport Uppy from '@uppy/core';\nimport Tus from '@uppy/tus';\nimport DashboardModal from '@uppy/react/lib/DashboardModal';\nimport '@uppy/core/dist/style.css';\nimport '@uppy/dashboard/dist/style.css';\nimport { v4 as uuid } from 'uuid';\n\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport VideoIcon from '@material-ui/icons/Movie';\n\nimport Button from '../Button';\nimport useSiteSettings from '../../models/site/useSiteSettings';\nimport Text from '../Text';\n\nfunction MediaViewer({ variant = 'image', url, label }) {\n  if (variant === 'image') {\n    return (\n      <img\n        alt={label}\n        style={{\n          maxHeight: 240,\n          maxWidth: 240,\n          height: 'auto',\n          width: 'auto',\n        }}\n        src={url}\n      />\n    );\n  } else if (variant === 'video' && url) {\n    return (\n      <ReactPlayer\n        url={url}\n        height={240}\n        width={360}\n        muted\n        autoPlay\n        playing\n        controls\n      />\n    );\n  } else if (variant === 'video' && !url) {\n    return (\n      <Paper\n        style={{ display: 'flex', padding: 20, alignItems: 'center' }}\n      >\n        <VideoIcon style={{ marginRight: 8 }} fontSize=\"large\" />\n        <Text variant=\"subtitle1\">\n          {label || 'Filename unavailable'}\n        </Text>\n      </Paper>\n    );\n  }\n\n  return <Text>{label}</Text>;\n}\n\nexport default function SettingsFileUpload({\n  labelId,\n  descriptionId,\n  changeId,\n  required = false,\n  allowedFileTypes,\n  settingName,\n  onSetPostData = Function.prototype,\n  maxFileSize = 10000000, // 10 MB\n  variant = 'image',\n}) {\n  const intl = useIntl();\n  const siteSettings = useSiteSettings();\n  const [uppy, setUppy] = useState(null);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [previewUrl, setPreviewUrl] = useState(null);\n  const [previewText, setPreviewText] = useState(null);\n  const assetSubmissionId = useMemo(uuid, []);\n\n  useEffect(() => {\n    const uppyInstance = Uppy({\n      meta: { type: settingName },\n      restrictions: {\n        maxNumberOfFiles: 1,\n        maxFileSize,\n        allowedFileTypes,\n      },\n      autoProceed: true,\n    });\n\n    uppyInstance.use(Tus, {\n      endpoint: `${__houston_url__}/api/v1/asset_groups/tus`,\n      headers: {\n        'x-tus-transaction-id': assetSubmissionId,\n      },\n    });\n\n    uppyInstance.on('complete', uppyState => {\n      const uploadObject = get(uppyState, 'successful.0');\n      if (uploadObject) {\n        onSetPostData({\n          key: settingName,\n          transactionId: assetSubmissionId,\n          transactionPath: get(uploadObject, ['meta', 'name']),\n        });\n        setPreviewUrl(get(uploadObject, 'preview'));\n        setPreviewText(get(uploadObject, 'name'));\n      }\n    });\n\n    setUppy(uppyInstance);\n\n    return () => uppyInstance.close();\n  }, []);\n\n  const settingValue = get(siteSettings, [\n    'data',\n    'site.images',\n    settingName,\n  ]);\n\n  const mediaUrl = previewUrl || settingValue;\n\n  const allowedFileTypeString = allowedFileTypes\n    ? allowedFileTypes.join(', ')\n    : null;\n\n  return (\n    <Grid\n      item\n      style={{\n        display: 'flex',\n        width: '100%',\n        justifyContent: 'space-between',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          width: '100%',\n          minWidth: '35%',\n        }}\n      >\n        <Text\n          style={{\n            marginTop: 20,\n          }}\n          variant=\"subtitle1\"\n        >\n          <FormattedMessage id={labelId} />\n          {required && ' *'}\n        </Text>\n        <Text\n          style={{\n            marginTop: 4,\n          }}\n          variant=\"body2\"\n          id={descriptionId}\n        />\n      </div>\n      <div\n        style={{\n          marginTop: 24,\n          marginLeft: 80,\n          width: 400,\n          minWidth: 400,\n        }}\n      >\n        {mediaUrl || previewText ? (\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <MediaViewer\n              url={mediaUrl}\n              alt={`Uploaded ${settingName}`}\n              variant={variant}\n              label={previewText}\n            />\n            <Button\n              onClick={() => {\n                setPreviewUrl(null);\n                uppy.reset();\n                setModalOpen(true);\n              }}\n              id={changeId}\n              display=\"basic\"\n              style={{ width: 'fit-content' }}\n            />\n          </div>\n        ) : (\n          <Button\n            size=\"small\"\n            style={{ marginTop: 8 }}\n            onClick={() => setModalOpen(true)}\n          >\n            <FormattedMessage id=\"UPLOAD_A_FILE\" />\n          </Button>\n        )}\n        {uppy && (\n          <DashboardModal\n            uppy={uppy}\n            note={\n              allowedFileTypeString\n                ? intl.formatMessage(\n                    { id: 'FILETYPES_NOTE' },\n                    { allowedFileTypes: allowedFileTypeString },\n                  )\n                : null\n            }\n            // closeAfterFinish\n            closeModalOnClickOutside\n            showProgressDetails\n            showLinkToFileUploadResult={false}\n            open={modalOpen}\n            onRequestClose={() => setModalOpen(false)}\n          />\n        )}\n      </div>\n    </Grid>\n  );\n}\n","import React, { useState } from 'react';\nimport { get } from 'lodash-es';\nimport { useIntl } from 'react-intl';\n\nimport useGetMe from '../../models/users/useGetMe';\nimport LoadingScreen from '../../components/LoadingScreen';\nimport UserProfile from '../../components/UserProfile';\nimport Button from '../../components/Button';\nimport UnprocessedBulkImportAlert from '../../components/bulkImport/UnprocessedBulkImportAlert';\nimport useDocumentTitle from '../../hooks/useDocumentTitle';\nimport ProfileSetup from './ProfileSetup';\n\nexport default function Home() {\n  const intl = useIntl();\n  const [crash, setCrash] = useState(false);\n\n  const { data, loading, refresh } = useGetMe();\n  const unprocessedAssetGroupId = get(data, [\n    'unprocessed_asset_groups',\n    '0',\n  ]);\n\n  const fullName = get(data, ['full_name']);\n  const userId = get(data, 'guid');\n\n  useDocumentTitle(\n    intl.formatMessage({ id: 'HOME' }),\n    true,\n    fullName,\n  );\n\n  if (crash) {\n    const b = a.b.c.d.e.f;\n  }\n\n  if (loading) return <LoadingScreen />;\n  // if (error) handle error\n  if (!fullName)\n    return <ProfileSetup userData={data} refreshUserData={refresh} />;\n\n  return (\n    <UserProfile\n      someoneElse={false}\n      userData={data}\n      userId={userId}\n      userDataLoading={loading}\n      refreshUserData={refresh}\n      noCollaborate\n    >\n      {unprocessedAssetGroupId && (\n        <UnprocessedBulkImportAlert\n          unprocessedAssetGroupId={unprocessedAssetGroupId}\n        />\n      )}\n      <Button onClick={() => setCrash(true)}>Crash!!!!</Button>\n    </UserProfile>\n  );\n}\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\n\nimport usePostIndividual from '../../models/individual/usePostIndividual';\nimport CreatePage from '../../components/CreatePage';\nimport InputRow from '../../components/InputRow';\nimport { defaultIndividualFields } from '../../constants/individualSchema';\n\nconst createFields = defaultIndividualFields.filter(\n  f => f.requiredForIndividualCreation,\n);\n\nexport default function CreateIndividual() {\n  const { postIndividual } = usePostIndividual();\n\n  const initialState = createFields.reduce((memo, field) => {\n    memo[field.name] = field.defaultValue;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n\n  return (\n    <CreatePage\n      ctaId=\"CREATE_INDIVIDUAL\"\n      onCreate={async () => {\n        const newIndividual = await postIndividual();\n        console.log(newIndividual);\n      }}\n    >\n      <Grid\n        container\n        spacing={2}\n        justifyContent=\"center\"\n        component=\"form\"\n        direction=\"column\"\n      >\n        {createFields.map(field => (\n          <Grid item key={field.label || field.labelId}>\n            <InputRow\n              label={field.label}\n              labelId={field.labelId}\n              description={field.description}\n              descriptionId={field.descriptionId}\n              required={field.required}\n              schema={field}\n              value={formState[field.name]}\n              onChange={newFieldValue =>\n                setFormState({\n                  ...formState,\n                  [field.name]: newFieldValue,\n                })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </CreatePage>\n  );\n}\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CreatePage from '../../components/CreatePage';\nimport InputRow from '../../components/InputRow';\nimport orgSchema from '../../constants/orgSchema';\n\nexport default function CreateOrg() {\n  const initialState = orgSchema.reduce((memo, field) => {\n    memo[field.name] = field.defaultValue;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n\n  return (\n    <CreatePage\n      ctaId=\"CREATE_ORG\"\n      onCreate={() => console.log(formState)}\n    >\n      <Grid\n        container\n        spacing={2}\n        justifyContent=\"center\"\n        component=\"form\"\n        direction=\"column\"\n      >\n        {orgSchema.map(field => (\n          <Grid item key={field.label || field.labelId}>\n            <InputRow\n              label={field.label}\n              labelId={field.labelId}\n              description={field.description}\n              descriptionId={field.descriptionId}\n              required={field.required}\n              schema={field}\n              value={formState[field.name]}\n              onChange={newFieldValue =>\n                setFormState({\n                  ...formState,\n                  [field.name]: newFieldValue,\n                })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </CreatePage>\n  );\n}\n","import React, { useState } from 'react';\nimport { get, omit } from 'lodash-es';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nimport usePatchAnnotation from '../../models/annotation/usePatchAnnotation';\nimport useDeleteAnnotation from '../../models/annotation/useDeleteAnnotation';\nimport AnnotatedPhotograph from '../../components/AnnotatedPhotograph';\nimport AnnotationEditor from '../../components/AnnotationEditor';\nimport Text from '../../components/Text';\nimport ConfirmDelete from '../../components/ConfirmDelete';\nimport AnnotationDetail from './AnnotationDetail';\nimport MoreAnnotationMenu from './MoreAnnotationMenu';\nimport Keywords from './Keywords';\n\nconst useStyles = makeStyles({\n  photoIcon: {\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.54)',\n    },\n  },\n});\n\nexport default function Annotations({ assets, refreshSightingData }) {\n  const theme = useTheme();\n  const isSm = useMediaQuery(theme.breakpoints.down('xs'));\n  const classes = useStyles();\n\n  const [detailId, setDetailId] = useState(null);\n  const [editId, setEditId] = useState(null);\n  const [deleteId, setDeleteId] = useState(null);\n  const [anchorInfo, setAnchorInfo] = useState(null);\n  const {\n    deleteAnnotation,\n    loading: deleteInProgress,\n    error: deleteAnnotationError,\n  } = useDeleteAnnotation();\n\n  const {\n    updateAnnotationProperty,\n    loading: patchInProgress,\n    error: patchError,\n    setError: setAnnotationError,\n  } = usePatchAnnotation();\n\n  const annotations = assets.reduce((acc, asset) => {\n    const assetAnnotations = get(asset, 'annotations', []);\n    const amendedAssetAnnotations = assetAnnotations.map(a => ({\n      ...a,\n      ...omit(asset, ['annotations', 'guid']),\n    }));\n    return [...acc, ...amendedAssetAnnotations];\n  }, []);\n\n  const clickedAnnotationId = get(anchorInfo, ['annotation', 'guid']);\n\n  const detailAnnotation = annotations.find(a => a.guid === detailId);\n  const editAnnotation = annotations.find(a => a.guid === editId);\n\n  return (\n    <div\n      style={{\n        display: 'grid',\n        columnGap: 12,\n        rowGap: 12,\n        gridTemplateColumns: isSm ? '1fr' : '1fr 1fr 1fr',\n        gridTemplateRows: 'auto',\n        gridAutoRows: 'auto',\n        margin: '0 20px',\n      }}\n    >\n      <AnnotationDetail\n        annotation={detailAnnotation}\n        open={Boolean(detailId)}\n        onClose={() => setDetailId(null)}\n        refreshSightingData={refreshSightingData}\n      />\n      <MoreAnnotationMenu\n        id=\"image-actions-menu\"\n        anchorEl={get(anchorInfo, 'element')}\n        open={Boolean(get(anchorInfo, 'element'))}\n        onClose={() => setAnchorInfo(null)}\n        onClickEditAnnotation={() => {\n          setEditId(clickedAnnotationId);\n          setAnchorInfo(null);\n        }}\n        onClickDelete={() => {\n          setDeleteId(clickedAnnotationId);\n          setAnchorInfo(null);\n        }}\n      />\n      {editId && (\n        <AnnotationEditor\n          onClose={() => {\n            setEditId(null);\n            setAnnotationError(null);\n          }}\n          onChange={async rect => {\n            const coords = [\n              get(rect, 'percentLeft'),\n              get(rect, 'percentTop'),\n              get(rect, 'percentWidth'),\n              get(rect, 'percentHeight'),\n            ];\n            const updateSuccessful = await updateAnnotationProperty(\n              editId,\n              'bounds',\n              { rect: coords, theta: get(rect, 'theta', 0) },\n            );\n            if (updateSuccessful) {\n              setEditId(null);\n              refreshSightingData();\n            }\n          }}\n          disableDelete\n          error={patchError}\n          loading={patchInProgress}\n          imgSrc={get(editAnnotation, 'src')}\n          annotations={[editAnnotation]}\n        />\n      )}\n      <ConfirmDelete\n        open={Boolean(deleteId)}\n        onClose={() => setDeleteId(null)}\n        onDelete={async () => {\n          const deleteSuccessful = await deleteAnnotation(deleteId);\n          if (deleteSuccessful) {\n            setDeleteId(null);\n            refreshSightingData();\n          }\n        }}\n        deleteInProgress={deleteInProgress}\n        error={deleteAnnotationError}\n        onClearError={() => deleteAnnotationError(null)}\n        messageId=\"CONFIRM_DELETE_ANNOTATION_DESCRIPTION\"\n      />\n      {annotations.length === 0 ? (\n        <Text id=\"NO_ANNOTATIONS_MESSAGE\" />\n      ) : null}\n      {annotations.map(annotation => (\n        <div key={annotation.guid} style={{ position: 'relative' }}>\n          <AnnotatedPhotograph\n            assetMetadata={annotation}\n            annotations={[annotation]}\n            onClick={() => setDetailId(annotation.guid)}\n          />\n          <IconButton\n            onClick={e =>\n              setAnchorInfo({ element: e.currentTarget, annotation })\n            }\n            style={{\n              position: 'absolute',\n              top: 4,\n              right: 4,\n              color: theme.palette.common.white,\n            }}\n            className={classes.photoIcon}\n          >\n            <MoreIcon />\n          </IconButton>\n          <Keywords annotation={annotation} />\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { get, set, pick } from 'lodash-es';\n\nimport Grid from '@material-ui/core/Grid';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nimport usePostIndividual from '../../../models/individual/usePostIndividual';\nimport useIndividualFieldSchemas from '../../../models/individual/useIndividualFieldSchemas';\nimport StandardDialog from '../../../components/StandardDialog';\nimport InputRow from '../../../components/fields/edit/InputRowNew';\nimport Button from '../../../components/Button';\nimport ButtonLink from '../../../components/ButtonLink';\nimport Alert from '../../../components/Alert';\nimport Text from '../../../components/Text';\n\nfunction calculateInitialState(schemas) {\n  if (!schemas) return {};\n  return schemas.reduce((memo, field) => {\n    set(memo, field.name, field.defaultValue);\n    return memo;\n  }, {});\n}\n\nexport default function CreateIndividualModal({\n  open,\n  onClose,\n  encounterId,\n}) {\n  const { loading, error, postIndividual } = usePostIndividual();\n\n  const [formState, setFormState] = useState({});\n\n  const [newIndividualId, setNewIndividualId] = useState(null);\n  const fieldSchemas = useIndividualFieldSchemas();\n  const createFieldSchemas = fieldSchemas.filter(\n    f => f.requiredForIndividualCreation,\n  );\n\n  useEffect(() => {\n    const initialState = calculateInitialState(fieldSchemas);\n    setFormState(initialState);\n  }, fieldSchemas);\n\n  const onCloseDialog = () => {\n    setFormState(calculateInitialState(fieldSchemas));\n    setNewIndividualId(null);\n    onClose();\n  };\n\n  return (\n    <StandardDialog\n      maxWidth={newIndividualId ? 'sm' : 'xl'}\n      titleId={\n        newIndividualId\n          ? 'NEW_INDIVIDUAL_CREATED'\n          : 'CREATE_INDIVIDUAL'\n      }\n      open={open}\n      onClose={onCloseDialog}\n    >\n      <DialogContent>\n        {newIndividualId ? (\n          <Text id=\"NEW_INDIVIDUAL_CREATED_DESCRIPTION\" />\n        ) : (\n          <Grid\n            container\n            spacing={2}\n            justifyContent=\"center\"\n            component=\"form\"\n            direction=\"column\"\n          >\n            {createFieldSchemas.map(schema => (\n              <Grid item key={schema.name}>\n                <InputRow schema={schema}>\n                  <schema.editComponent\n                    schema={schema}\n                    value={get(formState, schema.name)}\n                    onChange={newFieldValue => {\n                      const newFormState = {\n                        ...set(formState, schema.name, newFieldValue),\n                      };\n                      setFormState(newFormState);\n                    }}\n                  />\n                </InputRow>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n        {error && (\n          <Alert\n            titleId=\"SERVER_ERROR\"\n            style={{ marginTop: 16, marginBottom: 8 }}\n            severity=\"error\"\n          >\n            {error}\n          </Alert>\n        )}\n      </DialogContent>\n      <DialogActions>\n        <Button\n          display=\"basic\"\n          onClick={onCloseDialog}\n          id={newIndividualId ? 'CLOSE' : 'CANCEL'}\n        />\n        {newIndividualId ? (\n          <ButtonLink\n            id=\"VIEW_NEW_INDIVIDUAL\"\n            display=\"primary\"\n            href={`/individuals/${newIndividualId}`}\n          />\n        ) : (\n          <Button\n            display=\"primary\"\n            loading={loading}\n            onClick={async () => {\n              const individualData = pick(formState, 'names'); // just this for now...\n              const newId = await postIndividual(\n                individualData,\n                encounterId,\n              );\n              setNewIndividualId(newId);\n            }}\n            id=\"CREATE_INDIVIDUAL\"\n          />\n        )}\n      </DialogActions>\n    </StandardDialog>\n  );\n}\n","import React from 'react';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Grid from '@material-ui/core/Grid';\nimport UsersIcon from '@material-ui/icons/People';\nimport SightingsIcon from '@material-ui/icons/PhotoCamera';\nimport IndividualsIcon from '@material-ui/icons/Fingerprint';\nimport Text from '../../components/Text';\n\nconst metrics = [\n  {\n    labelId: 'IDENTIFIED_INDIVIDUALS',\n    count: 257,\n    icon: IndividualsIcon,\n  },\n  {\n    labelId: 'REPORTED_SIGHTINGS',\n    count: 810,\n    icon: SightingsIcon,\n  },\n  {\n    labelId: 'USERS',\n    count: 951,\n    icon: UsersIcon,\n  },\n];\n\nexport default function Testimonial() {\n  const theme = useTheme();\n  const isSm = useMediaQuery(theme.breakpoints.down('sm'));\n\n  return (\n    <div\n      style={{\n        marginTop: 40,\n        padding: '40px 0',\n        backgroundColor: theme.palette.primary.main,\n      }}\n    >\n      <Grid\n        container\n        justifyContent=\"space-around\"\n        direction={isSm ? 'column' : 'row'}\n        style={{\n          width: '100vw',\n          padding: '0 20px',\n          backgroundColor: theme.palette.common.black,\n          color: theme.palette.common.white,\n        }}\n      >\n        {metrics.map(metric => (\n          <Grid\n            item\n            style={{\n              display: 'flex',\n              margin: '32px 0',\n              flexDirection: isSm ? 'column' : 'row',\n              alignItems: 'center',\n            }}\n          >\n            <metric.icon\n              style={{ fontSize: 52, marginRight: isSm ? 0 : 12 }}\n            />\n            <div style={{ textAlign: isSm ? 'center' : 'unset' }}>\n              <Text\n                style={{\n                  color: theme.palette.primary.main,\n                  fontWeight: 800,\n                  letterSpacing: '0.02em',\n                  fontSize: isSm ? '1.8rem' : '1.2rem',\n                }}\n              >\n                {metric.count}\n              </Text>\n              <Text\n                style={{\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.02em',\n                  fontSize: 14,\n                  fontWeight: 400,\n                }}\n                id={metric.labelId}\n              />\n            </div>\n          </Grid>\n        ))}\n      </Grid>\n    </div>\n  );\n}\n","import React from 'react';\nimport { get } from 'lodash-es';\nimport Grid from '@material-ui/core/Grid';\n\nimport ButtonLink from '../../components/ButtonLink';\nimport Text from '../../components/Text';\nimport useSiteSettings from '../../models/site/useSiteSettings';\n\nconst imageSize = '25vw';\n\nexport default function CustomCard() {\n  const { data: siteSettings, loading, error } = useSiteSettings();\n\n  if (loading || error) return null;\n\n  const buttonUrl = get(siteSettings, [\n    'site.general.customCardButtonUrl',\n    'value',\n  ]);\n\n  const imageUrl = get(siteSettings, [\n    'site.images',\n    'customCardImage',\n  ]);\n\n  return (\n    <Grid\n      container\n      justifyContent=\"space-evenly\"\n      style={{\n        width: '100vw',\n        margin: '64px auto',\n        display: 'flex',\n      }}\n    >\n      <Grid item style={{ marginBottom: 40 }}>\n        <div\n          style={{\n            backgroundImage: `url(${imageUrl})`,\n            borderRadius: 1000,\n            backgroundSize: 'cover',\n            float: 'right',\n            height: imageSize,\n            width: imageSize,\n            minHeight: 280,\n            minWidth: 280,\n          }}\n        />\n      </Grid>\n      <Grid\n        item\n        style={{\n          textAlign: 'left',\n          maxWidth: 480,\n          padding: '0 20px',\n        }}\n      >\n        <Text\n          responsive\n          mobileStyle={{\n            fontSize: 20,\n            lineHeight: '30px',\n          }}\n          desktopStyle={{\n            fontSize: 24,\n            lineHeight: '36px',\n          }}\n          style={{\n            fontStyle: 'italic',\n            letterSpacing: '0.05em',\n          }}\n        >\n          {get(\n            siteSettings,\n            ['site.general.customCardLine1', 'value'],\n            '',\n          )}\n        </Text>\n        <Text\n          responsive\n          mobileStyle={{\n            fontSize: 18,\n            lineHeight: '26px',\n          }}\n          desktopStyle={{\n            fontSize: 22,\n            lineHeight: '36px',\n          }}\n          style={{\n            marginTop: 40,\n            letterSpacing: '0.04em',\n            fontWeight: 'bold',\n          }}\n        >\n          {get(\n            siteSettings,\n            ['site.general.customCardLine2', 'value'],\n            '',\n          )}\n        </Text>\n        {buttonUrl && (\n          <ButtonLink\n            display=\"marketing\"\n            style={{\n              marginTop: 52,\n            }}\n            href={buttonUrl}\n            external\n          >\n            {get(\n              siteSettings,\n              ['site.general.customCardButtonText', 'value'],\n              '',\n            )}\n          </ButtonLink>\n        )}\n      </Grid>\n    </Grid>\n  );\n}\n","import React from 'react';\nimport { get } from 'lodash-es';\nimport { useTheme } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport IdentificationIcon from '@material-ui/icons/Fingerprint';\nimport CodeIcon from '@material-ui/icons/Code';\nimport AnalysisIcon from '@material-ui/icons/BarChart';\nimport Text from '../../components/Text';\nimport useSiteSettings from '../../models/site/useSiteSettings';\n\nfunction Card({ Icon, titleId, descriptionId }) {\n  const theme = useTheme();\n\n  return (\n    <Grid\n      item\n      style={{\n        width: 240,\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        marginBottom: 48,\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: theme.palette.primary.main,\n          padding: 12,\n          height: 108,\n          width: 108,\n          borderRadius: 10000,\n        }}\n      >\n        <Icon\n          style={{ fontSize: 64, color: theme.palette.common.black }}\n        />\n      </div>\n      <Text\n        responsive\n        variant=\"h5\"\n        style={{ marginTop: 40, marginBottom: 20 }}\n        id={titleId}\n      />\n      <Text\n        style={{\n          color: '#818181',\n          lineHeight: '25px',\n          fontSize: 18,\n          letterSpacing: '0.04em',\n          fontWeight: 400,\n        }}\n        id={descriptionId}\n      />\n    </Grid>\n  );\n}\n\nexport default function Trifold() {\n  const { data: siteSettings, loading, error } = useSiteSettings();\n  const siteDescription = get(\n    siteSettings,\n    ['site.general.description', 'value'],\n    '',\n  );\n\n  if (loading || error) return null;\n\n  return (\n    <div\n      style={{\n        width: '100vw',\n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginTop: 40,\n        padding: 20,\n      }}\n    >\n      <Text\n        responsive\n        variant=\"h2\"\n        style={{ marginBottom: 48 }}\n        id=\"TRIFOLD_TAGLINE\"\n      />\n      <Text\n        responsive\n        desktopStyle={{\n          fontSize: 24,\n          lineHeight: '45px',\n        }}\n        mobileStyle={{\n          fontSize: 16,\n          lineHeight: '30px',\n        }}\n        style={{\n          maxWidth: 900,\n          padding: '0px 20px',\n          marginBottom: 60,\n          letterSpacing: '0.04em',\n        }}\n      >\n        {siteDescription}\n      </Text>\n      <Grid\n        container\n        justifyContent=\"space-around\"\n        style={{ maxWidth: 900, margin: '0 auto' }}\n      >\n        <Card\n          titleId=\"OPEN_SOURCE\"\n          descriptionId=\"OPEN_SOURCE_DESCRIPTION\"\n          Icon={CodeIcon}\n        />\n        <Card\n          titleId=\"AUTOMATIC_IDENTIFICATION\"\n          descriptionId=\"AUTOMATIC_IDENTIFICATION_DESCRIPTION\"\n          Icon={IdentificationIcon}\n        />\n        <Card\n          titleId=\"ANALYZE_AND_EXPORT\"\n          descriptionId=\"ANALYZE_AND_EXPORT_DESCRIPTION\"\n          Icon={AnalysisIcon}\n        />\n      </Grid>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CreatePage from '../../components/CreatePage';\nimport InputRow from '../../components/InputRow';\nimport userSchema from '../../constants/userSchema';\n\nconst schemas = userSchema.filter(\n  field => field.requiredForUserCreation,\n);\n\nexport default function CreateUser() {\n  const initialState = schemas.reduce((memo, field) => {\n    memo[field.name] = field.defaultValue;\n    return memo;\n  }, {});\n\n  const [formState, setFormState] = useState(initialState);\n\n  return (\n    <CreatePage\n      ctaId=\"CREATE_USER\"\n      onCreate={() => console.log(formState)}\n    >\n      <Grid\n        container\n        spacing={2}\n        justifyContent=\"center\"\n        component=\"form\"\n        direction=\"column\"\n      >\n        {schemas.map(field => (\n          <Grid item key={field.label || field.labelId}>\n            <InputRow\n              label={field.label}\n              labelId={field.labelId}\n              description={field.description}\n              descriptionId={field.descriptionId}\n              required={field.required}\n              schema={field}\n              value={formState[field.name]}\n              onChange={newFieldValue =>\n                setFormState({\n                  ...formState,\n                  [field.name]: newFieldValue,\n                })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </CreatePage>\n  );\n}\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { get } from 'lodash-es';\n\nimport LoadingScreen from '../../components/LoadingScreen';\nimport SadScreen from '../../components/SadScreen';\nimport AvatarGallery from '../../components/AvatarGallery';\nimport MainColumn from '../../components/MainColumn';\nimport Header from '../../components/Header';\nimport Text from '../../components/Text';\nimport ConfirmDelete from '../../components/ConfirmDelete';\nimport useGetUsers from '../../models/users/useGetUsers';\nimport useGetMe from '../../models/users/useGetMe';\nimport { selectSiteName } from '../../modules/site/selectors';\nimport useDocumentTitle from '../../hooks/useDocumentTitle';\n\nexport default function Users() {\n  const intl = useIntl();\n  const siteName = useSelector(selectSiteName);\n  const pageTitle = intl.formatMessage(\n    { id: 'USERS_PAGE_TITLE' },\n    { siteName },\n  );\n  useDocumentTitle(pageTitle, false);\n  const [userToDelete, setUserToDelete] = useState(null);\n\n  const { data, loading, error } = useGetUsers();\n  const { data: currentUserData } = useGetMe();\n  if (loading) return <LoadingScreen />;\n  if (error) return <SadScreen variant=\"genericError\" />;\n\n  const safeUsers = data || [];\n  const filteredUsers = safeUsers.filter(\n    u => u.email !== 'public@localhost',\n  );\n  const deleteUsername = get(userToDelete, 'name', 'Unknown user');\n  const isAdministrator = get(currentUserData, 'is_admin', false);\n\n  return (\n    <MainColumn>\n      <ConfirmDelete\n        onClose={() => setUserToDelete(null)}\n        onDelete={() => setUserToDelete(null)}\n        open={Boolean(userToDelete)}\n        entityToDelete={deleteUsername}\n      />\n      <Header\n        title={pageTitle}\n        showButtonLink={isAdministrator}\n        buttonLinkHref=\"/create/user\"\n        buttonText={intl.formatMessage({ id: 'CREATE_USER' })}\n      />\n      <AvatarGallery\n        entities={filteredUsers}\n        titleKey=\"full_name\"\n        filterKey=\"full_name\"\n        justifyContent=\"flex-start\"\n        getHref={entity => `/users/${entity.guid}`}\n        canDelete={isAdministrator}\n        onDelete={entity => {\n          setUserToDelete(entity);\n        }}\n        renderDetails={entity => {\n          const affiliation = null;\n          return affiliation ? <Text>{affiliation}</Text> : null;\n        }}\n      />\n    </MainColumn>\n  );\n}\n","__webpack_require__.h = () => (\"2ccf5f96\")"],"sourceRoot":""}