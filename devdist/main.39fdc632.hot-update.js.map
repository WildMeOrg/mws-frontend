{"version":3,"sources":["webpack://codex-frontend/./src/components/filterFields/PointDistanceFilter.jsx","webpack://codex-frontend/webpack/runtime/getFullHash"],"names":["inputWidth","PointDistanceFilter","label","labelId","description","descriptionId","filterId","defaultDistance","clause","queryTerm","onChange","style","nested","rest","intl","useIntl","theme","useTheme","useState","distance","setDistance","latitude","setLatitude","longitude","setLongitude","gpsForMapUpdate","setGpsForMapUpdate","modalOpen","setModalOpen","openCount","setOpenCount","onClose","translatedLabel","formatMessage","id","display","justifyContent","color","palette","text","secondary","marginLeft","minWidth","height","marginBottom","lat","lng","toString","marginTop","alignItems","width","marginRight","e","inputValue","target","value","_","newDistance","padding","descriptor","query","geo_distance","parseFloat"],"mappings":"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","file":"main.39fdc632.hot-update.js","sourcesContent":["import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport Slider from '@material-ui/core/Slider';\n\nimport PointDistanceMap from './mapUtils/PointDistanceMap';\nimport Button from '../Button';\nimport Text from '../Text';\nimport StandardDialog from '../StandardDialog';\n\nconst inputWidth = 220;\n\nexport default function PointDistanceFilter({\n  label,\n  labelId,\n  description,\n  descriptionId,\n  filterId,\n  defaultDistance = 50,\n  clause = 'filter',\n  queryTerm,\n  onChange,\n  style,\n  nested = false,\n  ...rest\n}) {\n  const intl = useIntl();\n  const theme = useTheme();\n\n  const [distance, setDistance] = useState(defaultDistance);\n  const [latitude, setLatitude] = useState('');\n  const [longitude, setLongitude] = useState('');\n  const [gpsForMapUpdate, setGpsForMapUpdate] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [openCount, setOpenCount] = useState(0);\n\n  const onClose = () => setModalOpen(false);\n\n  const translatedLabel = labelId\n    ? intl.formatMessage({ id: labelId })\n    : label;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        ...style,\n      }}\n    >\n      <Text style={{ color: theme.palette.text.secondary }}>\n        {translatedLabel}\n      </Text>\n      <Button\n        size=\"small\"\n        onClick={() => {\n          setModalOpen(true);\n          setOpenCount(openCount + 1);\n        }}\n        style={{ marginLeft: 8, minWidth: 48, height: 36 }}\n        id=\"SET\"\n        {...rest}\n      />\n      <StandardDialog\n        open={modalOpen}\n        onClose={onClose}\n        titleId=\"SELECT_LOCATION\"\n      >\n        <DialogContent style={{ marginBottom: 24 }}>\n          <PointDistanceMap\n            openCount={openCount}\n            gps={gpsForMapUpdate}\n            distance={distance}\n            onChange={({ lat, lng }) => {\n              setLatitude(lat.toString());\n              setLongitude(lng.toString());\n            }}\n          />\n          <Text\n            id=\"SEARCH_CENTER_POINT\"\n            variant=\"h6\"\n            style={{ marginTop: 12 }}\n          />\n          <div style={{ display: 'flex', alignItems: 'center' }}>\n            <TextField\n              style={{ width: inputWidth, marginRight: 16 }}\n              id=\"gps-latitude\"\n              label={intl.formatMessage({ id: 'DECIMAL_LATITUDE' })}\n              value={latitude}\n              onChange={e => {\n                const inputValue = e.target.value;\n                setLatitude(inputValue);\n                if (longitude)\n                  setGpsForMapUpdate([inputValue, longitude]);\n              }}\n            />\n            <TextField\n              style={{ width: inputWidth }}\n              id=\"gps-longitude\"\n              label={intl.formatMessage({ id: 'DECIMAL_LONGITUDE' })}\n              value={longitude}\n              onChange={e => {\n                const inputValue = e.target.value;\n                setLongitude(inputValue);\n                if (latitude)\n                  setGpsForMapUpdate([latitude, inputValue]);\n              }}\n            />\n          </div>\n          <Text\n            id=\"SEARCH_RADIUS_LABEL\"\n            variant=\"h6\"\n            style={{ marginTop: 12 }}\n          />\n          <Slider\n            style={{ marginTop: 48, width: inputWidth * 2 + 16 }}\n            value={distance}\n            min={1}\n            max={500}\n            onChange={(_, newDistance) => {\n              setDistance(newDistance);\n            }}\n            valueLabelDisplay=\"on\"\n          />\n        </DialogContent>\n        <DialogActions style={{ padding: '0px 24px 24px 24px' }}>\n          <Button display=\"basic\" onClick={onClose} id=\"CANCEL\" />\n          <Button\n            display=\"primary\"\n            onClick={() => {\n              onChange({\n                filterId,\n                descriptor: `${translatedLabel}: ${distance}km`,\n                nested,\n                clause,\n                query: {\n                  geo_distance: {\n                    distance: `${distance}km`,\n                    [queryTerm]: [\n                      parseFloat(latitude),\n                      parseFloat(longitude),\n                    ],\n                  },\n                },\n              });\n              onClose();\n            }}\n            id=\"CONFIRM\"\n          />\n        </DialogActions>\n      </StandardDialog>\n    </div>\n  );\n}\n","__webpack_require__.h = () => (\"32735aa8\")"],"sourceRoot":""}