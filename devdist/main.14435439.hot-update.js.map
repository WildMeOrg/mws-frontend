{"version":3,"sources":["webpack://codex-frontend/./src/pages/user/Users.jsx","webpack://codex-frontend/webpack/runtime/getFullHash"],"names":["Users","intl","useIntl","siteName","useSelector","selectSiteName","pageTitle","formatMessage","id","useDocumentTitle","useState","userToDelete","setUserToDelete","useGetUsers","data","loading","error","useGetMe","currentUserData","safeUsers","filteredUsers","filter","u","email","deleteUsername","get","isAdministrator","Boolean","entity","guid","affiliation"],"mappings":"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","file":"main.14435439.hot-update.js","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { get } from 'lodash-es';\n\nimport LoadingScreen from '../../components/LoadingScreen';\nimport SadScreen from '../../components/SadScreen';\nimport AvatarGallery from '../../components/AvatarGallery';\nimport MainColumn from '../../components/MainColumn';\nimport Header from '../../components/Header';\nimport Text from '../../components/Text';\nimport ConfirmDelete from '../../components/ConfirmDelete';\nimport useGetUsers from '../../models/users/useGetUsers';\nimport useGetMe from '../../models/users/useGetMe';\nimport { selectSiteName } from '../../modules/site/selectors';\nimport useDocumentTitle from '../../hooks/useDocumentTitle';\n\nexport default function Users() {\n  const intl = useIntl();\n  const siteName = useSelector(selectSiteName);\n  const pageTitle = intl.formatMessage(\n    { id: 'USERS_PAGE_TITLE' },\n    { siteName },\n  );\n  useDocumentTitle(pageTitle, false);\n  const [userToDelete, setUserToDelete] = useState(null);\n\n  const { data, loading, error } = useGetUsers();\n  const { data: currentUserData } = useGetMe();\n  if (loading) return <LoadingScreen />;\n  if (error) return <SadScreen variant=\"genericError\" />;\n\n  const safeUsers = data || [];\n  const filteredUsers = safeUsers.filter(\n    u => u.email !== 'public@localhost',\n  );\n  const deleteUsername = get(userToDelete, 'name', 'Unknown user');\n  const isAdministrator = get(currentUserData, 'is_admin', false);\n\n  return (\n    <MainColumn>\n      <ConfirmDelete\n        onClose={() => setUserToDelete(null)}\n        onDelete={() => setUserToDelete(null)}\n        open={Boolean(userToDelete)}\n        entityToDelete={deleteUsername}\n      />\n      <Header\n        title={pageTitle}\n        showButtonLink={isAdministrator}\n        buttonLinkHref=\"/create/user\"\n        buttonText={intl.formatMessage({ id: 'CREATE_USER' })}\n      />\n      <AvatarGallery\n        entities={filteredUsers}\n        titleKey=\"full_name\"\n        filterKey=\"full_name\"\n        justifyContent=\"flex-start\"\n        getHref={entity => `/users/${entity.guid}`}\n        canDelete={isAdministrator}\n        onDelete={entity => {\n          setUserToDelete(entity);\n        }}\n        renderDetails={entity => {\n          const affiliation = null;\n          return affiliation ? <Text>{affiliation}</Text> : null;\n        }}\n      />\n    </MainColumn>\n  );\n}\n","__webpack_require__.h = () => (\"27bfcefd\")"],"sourceRoot":""}